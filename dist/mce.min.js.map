{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/mce-polyfill.js","webpack:///./src/utils/attribute-related.js","webpack:///./src/utils/element-related.js","webpack:///./src/utils/pure-functions.js","webpack:///./src/utils/window-related.js","webpack:///./src/checkbox/checkbox.js","webpack:///./src/radio-button/radio-button.js","webpack:///./src/refresh-indicator/refresh-indicator.js","webpack:///./src/search/search.js","webpack:///./src/leaflet/leaflet-util.js","webpack:///./src/router/default-loading-html.js","webpack:///./src/index.js","webpack:///./src/app-bar/app-bar.js","webpack:///./src/bottom-nav-bar/bottom-nav-bar.js","webpack:///./src/button/button.js","webpack:///./src/card/card.js","webpack:///./src/chip/chip.js","webpack:///./src/dialog/dialog.js","webpack:///./src/expansion-panel/expansion-panel.js","webpack:///./src/grid-list/grid-list.js","webpack:///./src/icon/icon.js","webpack:///./src/list/list.js","webpack:///./src/menu/menu.js","webpack:///./src/nav-drawer/nav-drawer.js","webpack:///./src/nav-item/nav-item.js","webpack:///./src/snackbar/snackbar.js","webpack:///./src/switch/switch.js","webpack:///./src/tabs/tabs.js","webpack:///./src/text-field/text-field.js","webpack:///./src/tooltip/tooltip.js","webpack:///./src/blocker/blocker.js","webpack:///./src/inview/inview.js","webpack:///./src/list-item/list-item.js","webpack:///./src/leaflet/marker.js","webpack:///./src/leaflet/leaflet.js","webpack:///./src/router/route.js","webpack:///./src/router/router.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__customElements","debug","window","location","search","match","applyCustomElement","el","klass","tagName","setPrototypeOf","_init","setTimeout","connectedCallback","CustomElements","define","console","log","Array","from","document","querySelectorAll","forEach","checkAndApplyCustomElement","node","nodeName","toLowerCase","nodeType","Node","ELEMENT_NODE","constructor","observer","MutationObserver","mutationRecords","mutationRecord","type","addedNodes","removedNodes","disconnectedCallback","customElements","addEventListener","observe","body","childList","subtree","checkAndApplyAllCustomElements","values","obj","keys","map","key","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","this","documentElement","contains","parentElement","observeAttrChange","callback","mutations","mutation","newVal","target","getAttribute","attributeName","attributes","parseAttributes","eventsRE","options","events","attr","eventName","toCamelCase","replace","event","Function","func","optionName","str2Val","setTabbable","fn","preventDefault","str","g","toUpperCase","scope","expr","JSON","parse","e","_","$1","__jsonize","arr","split","filter","length","__getScopedObj","callSetMethod","val","objApplyFunc","funcName","funcParam","windowResizeHandler","innerWidth","classList","add","remove","iconSVG","radio_button_iconSVG","SVG","HTML","resolveLatLng","latlng","Promise","resolve","reject","address","fetch","then","response","json","lat","lon","isArray","isFinite","lng","error","defaultLoadingHTML","defaultLoadingCSS","HTMLElement","ce","resizeHandler","_addFiller","setTitle","title","querySelector","innerHTML","createElement","insertBefore","nextSibling","buttonAttrs","_addRealButton","bind","disabled","bool","setAttribute","removeAttribute","buttonEl","includes","click","appendChild","inputAttrs","inputEl","_addRealInput","insertAdjacentHTML","_buildHTML","avatar","text","removable","onRemove","removeEl","customEvent","CustomEvent","dispatchEvent","displayLevel","_regroupedOnce","_regroupElements","isSameNode","style","position","open","data","_updateContent","overflow","close","pageBlockerEl","containerEl","children","titleEl","contentEl","actionsEl","appendEl","className","undefined","contents","actions","_showThisPanelOnly","panelEl","toggle","_setImageIcon","clickListener","_onClick","_addEventListener","removeEventListener","href","iconText","isFAIcon","isMDIcon","imgSrc","backgroundImage","_focused","_focusTimer","initialize","parsedAttrs","setFocused","elType","focused","clearTimeout","input","listItem","hideMenu","menu","justShown","regroupedOnce","contentsEl","setActiveItem","icon","shortcut","iconEl","firstChild","shortcutEl","inputWrapper","_addEventListeners","id","Math","round","random","pow","searchIcon","clearIcon","_showInputField","_executeOnSearch","_clearInputField","focus","onSearch","bottom","message","msg","checked","indicatorEl","_addIndicatorEl","_selectActiveTab","getActiveTab","activeTab","thisBCR","getBoundingClientRect","activeTabBCR","left","Width","numTab","navItem","indicatorFromPct","parseFloat","move","width","duration","draw","timing","start","performance","now","requestAnimationFrame","animate","time","timeFraction","progress","sin","acos","tabToMove","tabMoveIndex","activeTabIndex","navItems","errorMessages","__cachedErrorMessages","rangeUnderflow","rangeOverflow","stepMismatch","tooShort","tooLong","patternMismatch","valueMissing","typeMismatch","customError","invalidError","label","prefix","suffix","optionalText","helperText","requiredText","multiLine","attrs","push","join","inputWrapperHTML","html","_getErrors","errors","validity","parseInt","setStatus","empty","errMsgEl","dirty","transition","_autoResizeTextarea","scrollHeight","height","originalPos","parent","nextSiblingNode","_showTooltip","parentBCR","docEl","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","docPosTop","top","docPosLeft","right","clientWidth","elStyle","getComputedStyle","getPropertyValue","notPositioned","css","backgroundColor","offsetTop","offsetLeft","offsetWidth","offsetHeight","borderRadius","assign","threshold","once80PctVisible","templateActivated","IntersectionObserver","__handleIntersect","inview","__defaultInviewHandler","entries","entry","detail","isIntersecting","__activateTemplate","t","clone","importNode","content","intersectionRatio","opacity","floor","item","parentListEl","textContent","__keydownHandler","__keyupHandler","__clickHandler","__focusHandler","__blurHandler","keyCode","which","listItems","listItemNdx","indexOf","nextListItem","prevListItem","_map","mapObj","removeLayer","attrParsed","L","marker","customElement","on","addTo","onAttrChange","setLatLng","center","zoom","loadLibrary","mapOptions","setEvents","setView","child","tileLayer","getZoom","condition","__wait","timeElapsed","timeout","result","waitUntil","router","path","redirect","noCache","cachedTemplate","resolveFunc","_getPromiseFunc","import","url","attrFn","activate","aPromise","routerResolveFn","routeResolveFn","onRouteStartFn","onRouteStart","onRouteEndFn","onRouteEnd","state","history","stae","showLoadingEl","routerData","routeData","importUrl","onHttpStart","ok","Error","statusText","onHttpEnd","targetEl","elm","newEl","createTextNode","parentNode","replaceChild","currentRoute","catch","paramName","funcStr","param","basePath","routes","defaultRoute","popStateHandler","_popStateHandler","_setProperties","show","loadingEl","display","notFoundRoute","_notFoundRoute","_getUrlMatchingRoute","matchingRoute","_getRouterPath","route","reStr","re","RegExp","_redirectTo","_addTargetEl","_addLoadingEl","routerPath","parsed","URL","hash","origin","pathname","linkEl","head"],"mappings":"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","file":"mce.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n * Allen's Custom Element Polyfill for better performance\n */\n(function(){\n  let __customElements = {};\n  let debug = !!window.location.search.match(/\\?debug=true/);\n\n  // change a HTMLElement to a custom element by applying its prototype\n  let applyCustomElement = function(el, klass) {\n    if (el.tagName.match(/-/)) {\n      // el.__proto__ = klass.prototype;\n      Object.setPrototypeOf(el, klass.prototype);\n      el._init && el._init();\n      setTimeout(function(){\n        el.connectedCallback && el.connectedCallback();\n      });\n    }\n  };\n\n  // window.customElement equivalent\n  let CustomElements = { \n    define: function(name, klass) {\n      __customElements[name] = klass;\n      // this is called before or after window.onload. Define any tag found in HTML\n      // this also may cause missing elements dynamically loaded before MutationObserver kicks in\n      debug && console.log('CustomElements.define.......................');\n      Array.from(document.querySelectorAll(name)).forEach(function(el) {\n        applyCustomElement(el, __customElements[name]);\n      });\n    }\n  };\n\n  // when document content is loaded, it checks all custom element and initialized it\n  let checkAndApplyAllCustomElements = function(el) {\n    debug && console.log('checkAndApplyAllCustomElements..........', el);\n    for(let name in __customElements) {\n      debug && console.log('checkAndApplyAllCustomElements..........', el.querySelectorAll(name));\n      Array.from(el.querySelectorAll(name)).forEach(function(el) {\n        if (el.constructor.name.match(/^HTML\\w*Element$/)) {\n          applyCustomElement(el, __customElements[name]);\n        }\n      });\n    }\n  };\n\n  let checkAndApplyCustomElement = function(node) {\n    let nodeName = node.nodeName.toLowerCase();\n    if (node.nodeType === Node.ELEMENT_NODE && \n      __customElements[nodeName] &&                      // defined as a custom element\n      node.constructor.name.match(/^HTML\\w*Element$/)) { // and not yet initialized\n      debug && console.log('observer....................... 2', node);\n      applyCustomElement(node, __customElements[nodeName]);\n    }\n  };\n\n\n  let observer = new MutationObserver(function(mutationRecords) {\n\n    mutationRecords.forEach(function(mutationRecord) {\n      if (mutationRecord.type == 'childList') { // e.g. attribures, characterData\n        Array.from(mutationRecord.addedNodes).forEach(function(node) {\n          //initialize node itself if a custom element \n          checkAndApplyCustomElement(node);\n\n          //initialize children of the node \n          if (node.nodeType === Node.ELEMENT_NODE) {\n            debug && console.log('observer....................... 1', node);\n            Array.from(node.querySelectorAll('*')).forEach(function(el) {\n              checkAndApplyCustomElement(el);\n            });\n          }\n        });\n\n        Array.from(mutationRecord.removedNodes).forEach(function(node) {\n          //process children of the node \n          node.disconnectedCallback && node.disconnectedCallback();\n\n          //process children of the node \n          if (node.nodeType === Node.ELEMENT_NODE) {\n            Array.from(node.querySelectorAll('*')).forEach(function(el) {\n              el.disconnectedCallback && el.disconnectedCallback();\n            });\n          }\n        });\n      }\n    });\n  });\n\n  // polyfill window.customElements(obj)\n  if (!window.customElements) {\n    window.customElements = CustomElements;\n    window.addEventListener('load', function() {\n      let options = {childList: true, subtree: true};\n      observer.observe(document.body, options);\n      checkAndApplyAllCustomElements(document.body);\n    });\n  }\n\n  // polyfill Object.values(obj)\n  if (!Object.values) { // Safari does not have this. hmm\n    Object.values = function(obj) {\n      return Object.keys(obj).map(function(key) {\n        return obj[key];\n      });\n    };\n  };\n\n  // polyfill el.matches(selector)\n  if (!Element.prototype.matches)\n    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n  // polyfill el.closest(selector)\n  if (!Element.prototype.closest) {\n    Element.prototype.closest = function(s) {\n      var el = this;\n      if (!document.documentElement.contains(el)) return null;\n      do {\n        if (el.matches(s)) return el;\n        el = el.parentElement;\n      } while (el !== null); \n      return null;\n    };\n  }\n\n})();\n","import {toCamelCase, str2Val} from './index.js';\n//\n// Collection of attribute related functions\n//\n\n/**\n * Observe attribute change and execute the given callback\n * @example\n *   observeAttrChange(el, (attr, val) => {\n *     if (attr === 'foo') {\n *       console.log('attribute', attr, 'is changed to', val);\n *     }\n *   }); \n */\nexport function observeAttrChange(el, callback) {\n  var observer = new MutationObserver(mutations => {\n    mutations.forEach(mutation => {\n      if (mutation.type === 'attributes') {\n        let newVal = mutation.target.getAttribute(mutation.attributeName);\n        callback(mutation.attributeName, newVal);\n      }\n    });\n  });\n  observer.observe(el, {attributes: true});\n  return observer;\n}\n\n/**\n * returns options and events from attributes\n */\nexport function parseAttributes(attributes,  eventsRE = /^on-/) {\n  let options = {}, events = {};\n\n  Array.from(attributes).forEach( function(attr) {\n    if (attr.name.match(eventsRE)) {\n      let eventName = toCamelCase(attr.name.replace(/^on-/,''));\n      events[eventName] = function(event) {\n        let func = new Function('event', attr.value);\n        return func(event);\n      };\n    } else {\n      let optionName = toCamelCase(attr.name);\n      options[optionName] = str2Val(attr.value);\n    }\n  });\n\n  return {options, events};\n}\n\n","/** \n * set the given element tabbable by adding tabindex, and click/ENTER event\n * @example\n *   setTabbable(el, _ => this.inputEl.click());\n */\nexport function setTabbable(el, fn) {\n  if (el.getAttribute('tabindex')) {\n    el.addEventListener('keypress', function(event) {\n      if (event.key === ' ' || event.key === 'Enter') {\n        fn && fn();\n        event.preventDefault();\n      }\n    });\n  }\n}\n\n/** \n * set innerHTML of the element\n * it also executes <script>...</script> in addition to setting HTML\n * @example\n *   set innerHTML(el, '<script>alert(1)</script>')\n */\nexport function setInnerHTML(elm, html) {\n  elm.innerHTML = html;\n  Array.from(elm.querySelectorAll(\"script\")).forEach(function(el) {\n\n    let newEl = document.createElement(\"script\");\n    Array.from(el.attributes).forEach(function(el) { \n      newEl.setAttribute(el.name, el.value);\n    });\n\n    newEl.appendChild(document.createTextNode(el.innerHTML));\n    el.parentNode.replaceChild(newEl, el);\n  });\n}\n\n","/** returns camelCased string value */\nexport function toCamelCase(str) {\n  return str.replace(/-([mce-z])/gi, function(g) { return g[1].toUpperCase(); });\n}\n\n/**\n * Returns Javascript value from string value\n * '1' -> 1\n * '-0.999' -> -0.999\n * '1,2' -> [1,2]\n * '[[1,2],[3.4]]' -> [[1,2],[3.4]]\n * 'foo.bar' -> 123\n * 'foo[\"bar\"]' -> 123\n */\nexport function str2Val(str, scope=window) {\n  if (!str) return str;\n\n  // return JSON-like string value from the given string {a: 1} -> {\"a\": 1};\n  function __jsonize(str) {\n    try {\n      JSON.parse(expr); // if va json, it will raise an exception\n      return str;\n    } catch(e) {\n      return str.\n        replace(/([\\$\\w]+)\\s*:/g, // wrap keys without double quote\n          function(_, $1) { return '\"' + $1 + '\":'; }\n        ).replace(/'([^']+)'/g,   // replacing single quote to double quote\n          function(_, $1) { return '\"' + $1 + '\"'; }\n        );\n    }\n  }\n\n  // retruns the revalue from string variable expression\n  // e.g.,  getScopeObj('foo.bar[\"x\"].y'); //returns window.foo.bar.x.y value\n  function __getScopedObj(str, scope) {\n    let obj=scope, arr;\n    arr = str.split(/[\\[\\]\\.]/) // split by [,],.\n      .filter(el => el)         // filter out empty one\n      .map(el => el.replace(/^['\"]+|['\"]+$/g, '')); // remove string quotation\n    if (arr.length > 1 && arr[0] !== str) {\n      arr.forEach(el => obj = obj[el]);\n      return obj;\n    } else {\n      return str;\n    }\n  }\n\n  // Normalize string value\n  let expr = str;\n  if (expr.match(/^[\\+\\-]?[0-9\\.]+,[ ]*\\ ?[\\+\\-]?[0-9\\.]+$/)) {\n    expr = '[' + str + ']';\n  }\n  expr = __jsonize(expr);\n\n  // Return value\n  try { // if JSON parsable, return object\n    return JSON.parse(expr);\n  } catch(e) {\n    try { // if variable, return variable value. e.g. 'foo.bar', foo['bar'];\n      expr = __getScopedObj(expr, scope);\n      return expr;\n    } catch(e) {\n      return expr; // return as it is e.g. 'hello'\n    }\n  }\n}\n\n/**\n * call obj.setXXX method with the given value\n*/\nexport function callSetMethod(obj, key, val) { // name, val, excludes, applyTo, attrs\n  objApplyFunc = objApplyFunc || function() {\n    let funcName = toCamelCase('set-' + key);\n    let funcParam = str2Val(val);\n    obj[funcName] && obj[funcName](funcParam);\n  };\n}\n\n","/**\n * Returns promise when the given meets\n * @example\n *   waitUntil(_ => window.google.map)\n */\nexport function waitUntil(condition) {\n  if (typeof condition !== 'function') {\n    console.error('Invalid condition for waitUntil. It must be a function', condition);\n    throw \"invalid condition\";\n  }\n  return new Promise(function(resolve, reject) {\n    (function __wait(timeElapsed=0, timeout=5000) {\n      let result = condition();\n      if (result) {\n        return resolve(result);\n      } else if (timeElapsed > timeout)  {\n        return reject('timeout');\n      }\n      setTimeout(function() {\n        __wait(timeElapsed+100, timeout);\n      }, 100);\n    })();\n  });\n}\n\n/** \n * callback for window resize handler\n * this handler makes app bar, nav drawer, bottom bar behaves differently by setting mce-desktop\n * @example\n *   window.ce = {resizeHandler: windowResizeHandler};\n *   window.addEventListener('resize', window.ce.resizeHandler);\n *   window.addEventListener('load', window.ce.resizeHandler);v\n */\nexport function windowResizeHandler() {\n  if (window.innerWidth >= 1024) {\n    document.body.classList.add('mce-desktop');\n  } else {\n    document.body.classList.remove('mce-desktop');\n  }\n}\n\n/**\n * common function for Javascript animation\n * @example\n *   animate({\n *    duration: 450,\n *    timing: function(timeFraction) {\n *      return 1 - Math.sin(Math.acos(timeFraction));\n *    },\n *    draw: function(progress) {\n *      indicatorEl.style.left = indicatorFromPct + (progress*move) + '%';\n *    }\n *  });\n */\nexport function animate({duration, draw, timing}) {\n  let start = performance.now();\n\n  requestAnimationFrame(function animate(time) {\n    let timeFraction = (time - start) / duration;\n    if (timeFraction > 1) timeFraction = 1;\n\n    let progress = timing(timeFraction);\n\n    draw(progress);\n\n    if (timeFraction < 1) {\n      requestAnimationFrame(animate);\n    }\n  });\n}\n","import {observeAttrChange, setTabbable} from '../utils/index.js';\n\nvar iconSVG = `\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path class=\"checked\"   d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n    <path class=\"unchecked\" d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n  </svg>`;\n\n/**\n * Checkboxes allow the selection of multiple options from a set.\n *\n * [Material Design Spec](https://material.io/guidelines/components/selection-controls.html#)\n * \n * ### example\n * ```\n * <div>\n *   <mce-checkbox id=\"checkbox1\"></mce-checkbox>\n *   <label for=\"checkbox1\">Unchecked</label>\n *   <mce-checkbox id=\"checkbox2\" checked=\"\"></mce-checkbox>\n *   <label for=\"checkbox2\">Checked</label>\n *   <mce-checkbox id=\"checkbox3\" disabled=\"\"></mce-checkbox>\n *   <label for=\"checkbox3\">Disabled</label>\n *   <mce-checkbox id=\"checkbox4\" checked=\"\" disabled=\"\"></mce-checkbox>\n *   <label for=\"checkbox4\">Disabled</label>\n * </div> \n * ```\n *\n * <p data-height=\"400\" data-theme-id=\"32189\" data-slug-hash=\"BJmaeb\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-checkbox` atttibutes\n *  It accepts all `input` checkbox attributes. E.g., id, name, value, disaled, or checked\n * \n */\nexport class Checkbox extends HTMLElement {\n  connectedCallback() {\n    this.inputAttrs = ['id', 'name', 'value', 'disabled', 'checked'];\n    this.inputEl = this._addRealInput();\n    observeAttrChange(this, (attr, val) => {\n      val === null ? this.inputEl.removeAttribute(attr) : this.inputEl.setAttribute(attr, val);\n    });\n    if(this.getAttribute('disabled') !== null) {\n      setTabbable(this, _ => this.inputEl.click());\n    }  \n  }\n\n  _addRealInput() {\n    let inputEl = document.createElement('input');\n    inputEl.setAttribute(\"type\", \"checkbox\");\n    inputEl.setAttribute(\"tabindex\", \"-1\");\n    Array.from(this.attributes).forEach( attr => {\n      if (this.inputAttrs.includes(attr.name) && attr.value !== null) {\n       inputEl.setAttribute(attr.name, attr.value);\n       (attr.name === 'id') && this.setAttribute('id', 'mce-checkbox-'+attr.value);\n      }\n    });\n    this.appendChild(inputEl);\n    this.insertAdjacentHTML('beforeend', iconSVG);\n    return inputEl;\n  }\n\n}\n","import {observeAttrChange, setTabbable} from '../utils/index.js';\n\n//https://material.io/guidelines/layout/structure.html#structure-app-bar\n\nvar iconSVG = `\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n    <path class=\"mce-checked\" d=\"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n    <path class=\"mce-unchecked\" d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n  </svg>`;\n\n/**\n * Radio buttons allow the selection of a single option from a set.\n *\n * [Material Design Spec](https://material.io/guidelines/components/selection-controls.html#)\n * \n * ### example\n * ```\n * <mce-radio-button name=\"radio1\" id=\"radio1\"></mce-radio-button>\n * <label for=\"radio1\">Unchecked</label>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"yppeoe\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `radio-button` Attributes \n * It accepts all `input` checkbox attributes. E.g., id, name, value, disaled, or checked\n */\nexport class RadioButton extends HTMLElement {\n  connectedCallback() {\n    this.inputAttrs = ['id', 'name', 'value', 'disabled', 'checked'];\n    this.inputEl = this._addRealInput();\n    observeAttrChange(this, (attr, val) => {\n      val === null ? this.inputEl.removeAttribute(attr) : this.inputEl.setAttribute(attr, val);\n    });\n    !this.classList.contains('mce-disabled') && setTabbable(this, _ => this.inputEl.click());\n  }\n\n  _addRealInput() {\n    let inputEl = document.createElement('input');\n    inputEl.setAttribute(\"type\", \"radio\");\n    Array.from(this.attributes).forEach( attr => {\n      if (this.inputAttrs.includes(attr.name) && attr.value !== null) {\n       inputEl.setAttribute(attr.name, attr.value);\n       (attr.name === 'id') && this.setAttribute('id', 'mce-radio-button-'+attr.value);\n      }\n    });\n    this.appendChild(inputEl);\n    this.insertAdjacentHTML('beforeend', iconSVG);\n    return inputEl;\n  }\n\n}\n\n","const SVG = `\n<svg xmlns='http://www.w3.org/2000/svg' viewBox=\"0 0 32 32\" width=\"32\" height=\"32\">\n  <circle cx=\"16\" cy=\"16\" r=\"11\"></circle>\n  <polygon points=\"21.75,16 32.25,16 27,21.25\"></polygon>\n</svg>`;\n\n/**\n * The refresh indicator appears only in conjunction with a refresh gesture or action. \n * Syncing does not display a refresh indicator.\n * \n * [Material Design Spec](https://material.io/guidelines/patterns/swipe-to-refresh.html#swipe-to-refresh-usage)\n * ### example\n * ```\n * <mce-refresh-indicator></mce-refresh-indicator>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"EooPvX\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n * ### `refresh-indicator` Style Classes\n *  |name||description|\n *  |---|---|\n *  |mce-no-border| Without circle\n *  |mce-dark-bg| Dark background circle\n *  |mce-loading| Spining Animated Icon\n *  |mce-mini| Smaller Icon\n * \n */\nexport class RefreshIndicator extends HTMLElement {\n\n  connectedCallback() {\n    this.insertAdjacentHTML('beforeend', SVG);\n  }\n\n}\n\n","import {observeAttrChange} from '../utils/index.js';\n\nconst HTML = `\n  <label for=\"__ID__\" tabindex=\"0\">\n    <mce-icon>search</i>\n  </label>\n  <span class=\"mce-input-wrapper\">\n    <input id=\"__ID__\" autocomplete=\"off\" placeholder=\"Search\">\n    <mce-icon class=\"mce-clear\">clear</i>\n  </span>\n`;\n\n/**\n * Search allows users to locate app content quickly.\n *\n * [Material Design Spec](https://material.io/guidelines/patterns/search.html#search-in-app-search)\n *\n * ### example\n * ```\n * <mce-search on-search=\"alert('You are searching...'+keyword)\"></mce-search>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"GyyovP\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n * ### `mce-button` Attributes \n *  |name|value|description|\n *  |---|---|---|\n *  |on-search|function| A Javascript code to execute for search with the keyword. e.g. `alert(keyword)`\n * \n */\nexport class Search extends HTMLElement {\n  connectedCallback() {\n    this.regroupedOnce = false;\n    this.inputEl;\n    this.inputWrapper;\n    this._regroupElements();\n    setTimeout(_ => {\n      this.inputWrapper = this.querySelector('.mce-input-wrapper');\n      this.inputEl = this.querySelector('input');\n      this._addEventListeners();\n    });\n  }\n\n close() {\n    this.inputEl.value = '';\n    this.inputWrapper.classList.remove('mce-visible');\n  }\n\n  _regroupElements() {\n    if (!this.regroupedOnce) {\n      let id = 'mce-search-' + Math.round(Math.random()*Math.pow(10,9));\n      this.innerHTML = HTML.replace('__ID__', id);\n    }\n    this.regroupedOnce = true;\n  }\n\n  _addEventListeners() {\n    let searchIcon = this.querySelector('label');\n    let clearIcon = this.querySelector('.mce-clear');\n\n    // when search icon is clicked, show input field\n    searchIcon.addEventListener('mouseup', this._showInputField.bind(this));\n    searchIcon.addEventListener('touchend', this._showInputField.bind(this));\n\n    searchIcon.addEventListener('keydown', _ => {\n      (event.key === ' ' || event.key === 'Enter') && this.inputWrapper.classList.toggle('visible');\n    });\n\n    // when input is not focused, hide input field\n    this.inputEl.addEventListener('blur', _ => this.close());\n    this.inputEl.addEventListener('keydown', event => {\n      (event.key === 'Enter') && this._executeOnSearch();\n    });\n\n    // when clear is pressed, clear input field\n    clearIcon.addEventListener('mouseup', this._clearInputField.bind(this));\n    clearIcon.addEventListener('touchend',this._clearInputField.bind(this));\n\n    // execute custom search function\n    this.addEventListener('search', _ => this._executeOnSearch());\n  }\n\n  _showInputField(event) {\n    if (this.inputWrapper.classList.contains('mce-visible') && this.inputEl.value) {\n      let customEvent = new CustomEvent('search', event);\n      this.dispatchEvent(customEvent);\n    } else {\n      this.inputWrapper.classList.toggle('mce-visible');\n      setTimeout(_ => this.inputEl.focus());\n    }\n  }\n\n  _clearInputField(event) {\n    this.inputEl.focus();\n    this.inputEl.value='';\n    event.preventDefault();\n  }\n\n  _executeOnSearch() {\n    if (this.inputEl.value) {\n      let onSearch = this.getAttribute('on-search');\n      let func = new Function('keyword', onSearch);\n      func(this.inputEl.value);\n    }\n  }\n\n}\n\n","function isLatLng(latlng) {\n  return (\n    Array.isArray(latlng) && \n    latlng.length === 2 && \n    isFinite(latlng[0]) && \n    isFinite(latlng[1])\n  ) || (latlng.lat && latlng.lng);\n}\n\nexport function geocode(address) {\n  let url = 'https://nominatim.openstreetmap.org/?format=json'+\n    '&addressdetails=1&q='+address+'&format=json&limit=1'; \n  return fetch(url).then( function(response) {\n    return response.json();\n  });\n}\n\nexport function resolveLatLng(latlng) {\n  return new Promise( function(resolve, reject) {\n    if (typeof latlng === 'string') { // we need to resolve it to lat/lng\n      geocode(latlng).then( function(json) {\n        if (json[0]) {\n          resolve([json[0].lat, json[0].lon]);\n        } else {\n          reject(`Invalid address, \"${latlng}\"`);\n        }\n      });\n    } else if (isLatLng(latlng)) {\n      resolve(latlng);\n    } else {\n      console.error('Invalid latlng', latlng);\n      throw \"Invalid latlng\";\n    }\n  });\n}\n","var defaultLoadingCSS = `\n    <style>\n      @keyframes mce-rotate{\n        from{transform:rotate(0)}\n        to{transform:rotate(359deg)}\n      }\n      mce-router {\n        display: block; \n        /*overflow: hidden;*/\n      }\n      mce-router > .mce-loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position:absolute; top: 0; left: 0; \n        width:100%; height: 100%; \n        min-height: 64px;\n        background-color: rgba(255,255,255,0.5); \n      }\n      mce-router > .mce-loading > svg {\n        animation: mce-rotate 1.4s infinite linear;\n        vertical-align: middle;\n      }\n      mce-router > .mce-loading > svg circle {\n        stroke-dasharray: 44.2336, 200;\n        stroke-dashoffset: -15;\n        stroke: var(--theme-color-500, #9e9e9e);\n        stroke-linecap: round;\n        opacity: 1;\n        stroke-width: 3;\n        fill: none;\n      }\n      mce-router > .mce-loading > svg polygon {\n        fill: var(--theme-color-500, #9e9e9e);\n        transform: rotate(314deg);\n        transform-origin: 16px 16px 0px;\n        opacity: 1;\n      }\n      mce-router > .mce-router-target {\n        opacity: 0;\n        margin-left: 100%;\n      }\n      mce-router > .mce-router-target.mce-slide-in {\n        opacity: 1;\n        margin-left: 0%;\n        transition: all 0.25s;\n      }\n    </style>`;\n\nvar defaultLoadingHTML = defaultLoadingCSS + `\n    <div class=\"mce-loading\">\n      <svg xmlns=\"http://www.w3.org/2000/svg: viewBox=\"0 0 32 32\" width=\"32\" height=\"32\">\n        <circle cx=\"16\" cy=\"16\" r=\"11\"></circle>\n        <polygon points=\"21.75,16 32.25,16 27,21.25\"></polygon>\n      </svg>\n    </div>`;\n\nexport {defaultLoadingHTML};\n","import './mce-polyfill.js';\nimport {AppBar} from './app-bar/app-bar.js';\nimport {BottomNavBar} from './bottom-nav-bar/bottom-nav-bar.js';\nimport {Button} from './button/button.js';\nimport {Card} from './card/card.js';\nimport {Checkbox} from './checkbox/checkbox.js';\nimport {Chip} from './chip/chip.js';\nimport {Dialog} from './dialog/dialog.js';\nimport {ExpansionPanel} from './expansion-panel/expansion-panel.js';\nimport {GridList} from './grid-list/grid-list.js';\nimport {Icon} from './icon/icon.js';\nimport {List} from './list/list.js';\nimport {Menu} from './menu/menu.js';\nimport {NavDrawer} from './nav-drawer/nav-drawer.js';\nimport {NavItem} from './nav-item/nav-item.js';\nimport {RadioButton} from './radio-button/radio-button.js';\nimport {RefreshIndicator} from './refresh-indicator/refresh-indicator.js';\nimport {Search} from './search/search.js';\nimport {Snackbar} from './snackbar/snackbar.js';\nimport {Switch} from './switch/switch.js';\nimport {Tabs} from './tabs/tabs.js';\nimport {TextField} from './text-field/text-field.js';\nimport {Tooltip} from './tooltip/tooltip.js';\n\nimport {LeafletMap} from './leaflet/leaflet.js';\nimport {LeafletMarker} from './leaflet/marker.js';\nimport {Router} from './router/router.js';\nimport {Route} from './router/route.js';\n\nimport {Blocker} from './blocker/blocker.js';\nimport {Inview} from './inview/inview.js';\nimport {ListItem} from './list-item/list-item.js';\n\ncustomElements.define('mce-app-bar', AppBar);\ncustomElements.define('mce-bottom-nav-bar', BottomNavBar);\ncustomElements.define('mce-button', Button);\ncustomElements.define('mce-card', Card);\ncustomElements.define('mce-checkbox', Checkbox);\ncustomElements.define('mce-chip', Chip);\ncustomElements.define('mce-dialog', Dialog);\ncustomElements.define('mce-expansion-panel', ExpansionPanel);\ncustomElements.define('mce-grid-list', GridList);\ncustomElements.define('mce-icon', Icon);\ncustomElements.define('mce-list', List);\ncustomElements.define('mce-menu', Menu);\ncustomElements.define('mce-nav-drawer', NavDrawer);\ncustomElements.define('mce-nav-item', NavItem);\ncustomElements.define('mce-radio-button', RadioButton);\ncustomElements.define('mce-refresh-indicator', RefreshIndicator);\ncustomElements.define('mce-search', Search);\ncustomElements.define('mce-snackbar', Snackbar);\ncustomElements.define('mce-switch', Switch);\ncustomElements.define('mce-tabs', Tabs);\ncustomElements.define('mce-text-field', TextField);\ncustomElements.define('mce-tooltip', Tooltip);\n\ncustomElements.define('mce-blocker', Blocker);\ncustomElements.define('mce-inview', Inview);\ncustomElements.define('mce-list-item', ListItem);\ncustomElements.define('mce-marker', LeafletMarker);\ncustomElements.define('mce-leaflet', LeafletMap);\ncustomElements.define('mce-route', Route);\ncustomElements.define('mce-router', Router); \n\n// include css if not already there with \"*mce.mincss\" or id=\"mce-css\"\n(function() {\n  let cssIncluded = window.debug ||\n    document.querySelector('link[href$=\"mce.min.css\"]') ||\n    document.querySelector('link[id=\"mce-css\"]');\n\n  if (!cssIncluded) {\n    var cssUrl = 'https://unpkg.com/mce/dist/mce.min.css';\n    let linkEl = document.createElement('link');\n    linkEl.setAttribute('rel', \"stylesheet\");\n    linkEl.setAttribute('href', cssUrl);\n    document.head.appendChild(linkEl);\n  }\n})();\n","import {windowResizeHandler} from '../utils/index.js';\n\n/**\n * The app bar is a special kind of toolbar thats used for branding, navigation, search, and actions.\n *\n * [Material Design Spec](https://material-components.github.io/material-components-web-catalog/#/component/top-app-bar)\n * \n * ### example\n * ```\n * <mce-app-bar app-title=\"app-bar\" class=\"mce-light\">\n *   <div class=\"mce-nav-icon\">\n *     <mce-icon>menu</mce-icon>\n *   </div>\n *   <span class=\"mce-title\">App Bar Light</span>\n *   <div class=\"mce-icons\">\n *     <mce-icon>favorite</mce-icon>\n *     <mce-icon>search</mce-icon>\n *     <mce-icon>more_vert</mce-icon>\n *   </div>\n * </mce-app-bar>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"EobYmr\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce an-app-bar\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/EobYmr/\">mce an-app-bar</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-app-bar` style classes\n *  |name|value|description|\n *  |---|---|---|\n *  |mce-light| | if defined, light background with dark icons and text\n * \n * \n * ### Child element of `mce-app-bar` style classes\n *  |name|value|description|\n *  |---|---|---|\n *  |mce-nav-icon| | the container class of left-side navigation icon(s)\n *  |mce-icons| | the container class of right-side icons\n *  |mce-title| | the container class of title, which is positioned after navigation icons\n *\n */\nexport class AppBar extends HTMLElement {\n  connectedCallback() {\n    if (window.ce && window.ce.resizeHandler) {} else {\n      window.ce = {resizeHandler: windowResizeHandler};\n      window.addEventListener('resize', window.ce.resizeHandler);\n      window.addEventListener('load', window.ce.resizeHandler);\n    }\n    this._addFiller();\n  }\n\n  /**\n   * sets the title of app bar\n   * @param {string} title title for the app bar\n   */\n  setTitle(title) {\n    this.querySelector('.mce-title').innerHTML = title;\n  }\n\n  _addFiller() {\n    let el = document.createElement('div');\n    el.classList.add('mce-app-bar-filler');\n    this.parentElement.insertBefore(el, this.nextSibling);\n  }\n}\n","import {windowResizeHandler} from '../utils/index.js';\n\n/**\n * Bottom navigation bars make it easy to explore and switch between top-level views in a single tap.\n *\n * [Material Design Spec.](https://material.io/guidelines/components/bottom-navigation.html#bottom-navigation-specs)\n * \n * ## Example\n * ```\n * <mce-bottom-nav-bar>\n *   <mce-nav-item icon=\"favorite\">Favourite</mce-nav-item>\n *   <mce-nav-item icon=\"search\" class=\"mce-disabled\">Disabled</mce-nav-item>\n *   <mce-nav-item icon=\"alarm\">Alarm</mce-nav-item>\n *   <mce-nav-item icon=\"music_note\">Music</mce-nav-item>\n * </mce-bottom-nav-bar>\n * ```   \n * \n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"aEVowx\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>`\n *\n * ### `mce-bottom-nav-bar` style classes\n *  |name|description|\n *  |---|---|\n *  |mce-dark-bg| dark background bottom bar\n */\nexport class BottomNavBar extends HTMLElement {\n  connectedCallback() {\n    if (window.ce && window.ce.resizeHandler) {} else {\n      window.ce = {resizeHandler: windowResizeHandler};\n      window.addEventListener('resize', window.ce.resizeHandler);\n      window.addEventListener('load', window.ce.resizeHandler);\n    }\n  }\n}\n","import {observeAttrChange, setTabbable} from '../utils/index.js';\n\n/**\n * Buttons communicate the action that will occur when the user touches them.\n * \n * [Material Design Spec](https://material.io/guidelines/components/buttons.html#buttons-style)\n * \n * ### example\n * ```\n * <div>\n *   <mce-button>\n *     <mce-icon>search</mce-icon> Normal </mce-button>\n *   <mce-button class=\"mce-dark\">\n *     <mce-icon>search</mce-icon> Normal </mce-button>\n *   <mce-button disabled=\"\">\n *     <mce-icon>search</mce-icon> disabled </mce-button>\n *   <mce-button disabled=\"\" class=\"mce-dark\">\n *     <mce-icon>search</mce-icon> disabled </mce-button>\n * </div>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"aEVoYg\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>`\n * \n * ### `mce-button` attributes \n *  |name|value|description|\n *  |---|---|---|\n *  |nam| | name of button\n *  |value| | button value\n *  |disabled| | if defined, a button is disabled\n * \n * ### `mce-button` style classes\n *  |name|value|description|\n *  |---|---|---|\n *  |mce-dark| | A button with dark background color and light text\n *  |mce-raised| | if defined, light background with dark icons and text \n *  |mce-fab| | if defined, A floating action buttoin; a circular button with shadow effect\n *  |mce-mini| | if defined, A 40 pixel x 40 pixel\n */\nexport class Button extends HTMLElement {\n  \n  connectedCallback() {\n    this.buttonAttrs = ['name', 'value', 'disabled'];\n    setTimeout(this._addRealButton.bind(this));\n  }\n\n  set disabled(bool) {\n    bool ? this.setAttribute('disabled','') : this.removeAttribute('disabled');\n  }\n\n  _addRealButton() {\n    let buttonEl = document.createElement('button');\n    buttonEl.setAttribute('tabindex', '-1');\n    Array.from(this.attributes).forEach(attr => {\n      this.buttonAttrs.includes(attr.name) && buttonEl.setAttribute(attr.name, attr.value);\n    });\n\n    observeAttrChange(this, (attr, val) => {\n      this.buttonAttrs.includes(attr) && buttonEl.setAttribute(attr, val);\n    });\n    \n    if (!this.classList.contains('mce-disabled')) {\n      setTabbable(this, _ => buttonEl.click());  // set tabindex and click/ENTER function\n    } \n    this.appendChild(buttonEl);\n  }\n\n}\n  \n","/**\n * A card is a sheet of material that serves as an entry point to more detailed information. \n *\n * [Material Design Spec](https://material.io/guidelines/components/cards.html#cards-content-blocks)\n * \n * ### example\n * ```\n * <mce-card>\n *   <div class=\"mce-title\">\n *     <h1>Title Goes Here</h1>\n *     <div class=\"mce-subtitle\">Subtitle here</div>\n *   </div>\n *   <div class=\"mce-text\">\n *     Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor\n *     in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n *   </div>\n *   <div class=\"mce-actions\">\n *     <a href=\"javascript:void(0)\">ACTION 1</a>\n *     <a href=\"javascript:void(0)\">ACTION 2</a>\n *   </div>\n * </mce-card>\n * ```\n * \n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"ZvaEez\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>`\n *\n *\n * ### `mce-card` elememe style classes\n *  |name|description|\n *  |---|---|\n *  |mce-picked-up| A raised card. Click a card on this document to see the effect. \n * \n * \n * ### Child element of `mce-card` style classes\n *  |name|description|\n *  |---|---|\n *  |mce-title| Showing a raised card. click a card on this document to see the effect.\n *  |mce-subtitle| Card subtitle with the font size of 14px\n *  |mce-subtitle| Card subtitle with the font size of 14px\n *  |mce-media| An image or video with 16x9 aspect ratio\n *  |mce-actions| Action buttons section with icon, button or a link \n *  |mce-text| Action buttons section with icon, button or a link\n */\nexport class Card extends HTMLElement {\n  connectedCallback() {\n  }\n}\n","/**\n * Chips represent complex entities in small blocks, such as a contact.\n *\n * [Material Design Spec](https://material.io/guidelines/components/chips.html#chips-specs)\n *\n * ### Examples\n * ```\n * <div>\n *   <mce-chip text=\"AMZ Bank\"></mce-chip>\n *   <mce-chip avatar=\"ali.connors.jpg\" text=\"AMZ Bank\"></mce-chip>\n *   <mce-chip text=\"AMZ Bank\" removable=\"\"></mce-chip>\n *   <mce-chip avatar=\"A\" text=\"AMZ Bank\" removable=\"\" on-remove=\"alert('chip removal')\"></mce-chip>\n * </div>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"jYYWPg\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n *\n * ### `mce-chip` atttibutes\n *  |name|value|description|\n *  |---|---|---|\n *  |avatar| image url| An avatar text or image url for contact information that users have for people may be represented in a compact way using contact chips. The chips\n *  |text| string | Main text of the chip\n *  |removable| | if defined, it addes delete icon to the chip.\n *  |on-remove| Javascrip function| A javascript code to be executed when chip is removed.\n */ \nexport class Chip extends HTMLElement {\n\n  connectedCallback() {\n    this._buildHTML();\n  }\n\n  _buildHTML() {\n    let avatar = this.getAttribute('avatar');\n    let text = this.getAttribute('text');\n    let removable = this.getAttribute('removable');\n    let onRemove = this.getAttribute('on-remove');\n\n    if (avatar) {\n      if (avatar.match(/\\.(png|jpg|gif|svg)$/)) {\n        this.insertAdjacentHTML('beforeend', `<div class=\"mce-avatar\" style=\"background-image:url(${avatar})\"></div>`);\n      } else {\n        this.insertAdjacentHTML('beforeend', `<div class=\"mce-avatar\">${avatar}</div>`);\n      }\n    }\n\n    if (text) {\n      this.insertAdjacentHTML('beforeend', `<div class=\"mce-text\">${text}</div>`);\n    }\n\n    if (removable !== null) {\n      let removeEl = document.createElement('mce-icon');\n      removeEl.setAttribute('tabindex', '0');\n      removeEl.classList.add('mce-delete');\n      removeEl.innerHTML = 'clear';\n\n      removeEl.addEventListener('click', event => {\n        let customEvent = new CustomEvent('remove', event);\n        this.dispatchEvent(customEvent);\n      });\n\n      this.appendChild(removeEl);\n\n      this.addEventListener('remove', function(event) {\n        let func = new Function(onRemove);\n        func();\n        this.remove();\n      });\n    }\n  }\n\n}\n","/**\n * Dialogs contain text and UI controls. They retain focus until dismissed or a required action has been taken. Use dialogs sparingly because they are interruptive.\n *\n * [Material Design Spec.](https://material.io/guidelines/components/dialogs.html#dialogs-specs)\n * \n * ### example\n * ```\n * <div>\n *   <mce-button class=\"mce-raised\" onclick=\"openDialog('dialog-1')\">Open A Dialog</mce-button>\n *   <mce-dialog id=\"dialog-1\">\n *     <h3 class=\"mce-title\">Title</h3>\n *     <div class=\"mce-content\">\n *       Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor\n *       in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n *     </div>\n *     <hr class=\"mce-divider\">\n *     <div class=\"mce-actions\">\n *       <mce-button onclick=\"closeDialog('dialog-1')\">cancel</mce-button>\n *       <mce-button onclick=\"closeDialog('dialog-1')\">OK</mce-button>\n *     </div>\n *   </mce-dialog>\n * </div>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"rppxOe\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n *\n * ### `mce-dialog` elememe style classes\n *  |name|description|\n *  |---|---|\n *  |mce-visible|Indicates that the dialog is an open status\n * \n * \n * ### Child element of `mce-dialog` style classes\n *  |name|description|\n *  |---|---|\n *  |mce-divider| Draw a line\n *  |mce-title| Title section of the dialog\n *  |mce-content| Content section of the dialog\n *  |mce-actions| The container of action buttons\n * \n */ \nexport class Dialog extends HTMLElement {\n  connectedCallback() {\n    this.displayLevel = this.getAttribute('display-level') || 'root';\n    this._regroupedOnce = this._regroupedOnce || false;\n    setTimeout(_ => {\n      !this._regroupedOnce && this._regroupElements();\n      this._regroupedOnce = true;\n      if (this.displayLevel === 'root' && !this.parentElement.isSameNode(document.body)) { //document-level dialog\n        document.body.appendChild(this);\n        this.querySelector('.mce-page-blocker').style.position = 'fixed';\n        this.querySelector('.mce-container').style.position = 'fixed';\n      }\n    });\n  }\n  \n  /**\n   * Opens te dialog with the given data\n   *\n   * @param {Object} data, options for this dialog\n   *   title: Title of this dialog  \n   *   content:  Contents of this dialog as in string format.  \n   *   actions: Buttons for this dialog with callback function\n   * @example \n   *   document.getElementById('my-dialog').open({\n   *     title: 'Custim Title', \n   *     contents:'This is custom contents',\n   *     actions: {'Custom Button': () => alert('My Button is clicked.')}\n   *   });\n   * @returns void\n   */\n  open(data) {\n    //replace title, content, actions with data given\n    data && this._updateContent(data);\n    (this.displayLevel === 'root') && (document.body.style.overflow = 'hidden');\n    this.classList.add('mce-visible');\n  }\n\n  /**\n   * Closes the dialog\n   */\n  close() {\n    (this.displayLevel === 'root')  && (document.body.style.overflow = '');\n    this.classList.remove('mce-visible');\n  }\n\n  _regroupElements() {\n    let pageBlockerEl, containerEl;\n    pageBlockerEl = document.createElement('div');\n    pageBlockerEl.classList.add('mce-page-blocker');\n    pageBlockerEl.addEventListener('click', () => {\n      this.close();\n    });\n    this.appendChild(pageBlockerEl);\n\n    containerEl = document.createElement('div');\n    containerEl.classList.add('mce-container');\n    this.appendChild(containerEl);\n\n    Array.from(this.children).forEach(el => {\n      if (!el.isSameNode(containerEl) && !el.isSameNode(pageBlockerEl)) {\n        containerEl.appendChild(el);\n      }\n    });\n  }\n\n  _updateContent(data) {\n    let titleEl, contentEl, actionsEl;\n    let appendEl = className  => {\n      let el = document.createElement('div');\n      el.classList.add(className);\n      this.appendChild(el);\n      return el;\n    };\n    if (data.title !== undefined) {\n      titleEl = this.querySelector('.mce-title') || appendEl('mce-title');\n      titleEl.innerHTML = data.title;\n    }\n    if (data.contents !== undefined) {\n      contentEl = this.querySelector('.mce-content') || appendEl('mce-content');\n      contentEl.innerHTML = data.contents;\n    }\n    if (data.actions !== undefined) {\n      actionsEl = this.querySelector('.mce-actions') || appendEl('mce-actions');\n      actionsEl.innerHTML = '';\n      for (var key in data.actions) {\n        let buttonEl = document.createElement('mce-button');\n        buttonEl.innerHTML = key;\n        buttonEl.addEventListener('click', _ => {\n          data.actions[key]();\n          this.close();\n        });\n        actionsEl.appendChild(buttonEl);\n      }\n    }\n  }\n}\n\n","/**\n * Expansion panels contain creation flows and allow lightweight editing of an element.\n *\n * [Material Design Spec.](https://material.io/guidelines/components/expansion-panels.html#expansion-panels-specs)\n *\n * ### example\n * ```\n *  <mce-expansion-panel>\n *    <div class=\"mce-title\">\n *      <h1>Trip name</h1>\n *      <div>Carribean Cruise</div>\n *    </div>\n *    <div class=\"mce-text\">\n *      Text: 14sp Left and right padding: 16dp Top padding: 16dp or 24dp (when a primary title is present) Bottom padding: 16dp (if there are additional actions or supporting text) or 24dp (if there are no actions or supporting text)\n *    </div>\n *  </mce-expansion-panel>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"RxxrRJ\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n *\n * ### `mce-expansion-panel` elememe style classes\n *  |name|description|\n *  |---|---|\n *  |mce-expanded|  Indicates that the expansion-panel is expanded. Without this, it's collapsed.\n * \n * \n * ### Child element of `mce-expansion-panel` style classes\n *  |name|description|\n *  |---|---|\n *  |mce-title|  container class of title section. This is visible when it is collapsed.\n *  |mce-text|  container class of text section. This is collapsed when not expanded.\n *  |mce-actions|  container class of actions section. This is collapsed when not expanded.\n * \n */\nexport class ExpansionPanel extends HTMLElement {\n  connectedCallback() {\n    setTimeout(_ => {  //this.querySelector takes time\n      let titleEl = this.querySelector('.mce-title');\n      titleEl && titleEl.addEventListener('click', this._showThisPanelOnly.bind(this));\n    });\n  }\n\n  _showThisPanelOnly(event) {\n    Array.from(document.querySelectorAll('mce-expansion-panel')).forEach(panelEl => {\n      if (panelEl.isSameNode(this)) {\n        panelEl.classList.toggle('mce-expanded');\n      } else {\n        panelEl.classList.remove('mce-expanded');\n      }\n    });\n  }\n}\n","/**\n * Grid lists are an alternative to standard list views.\n *\n * [Material Design Spec.](https://material.io/guidelines/components/grid-lists.html#grid-lists-specs)\n *\n * ### Example\n * ```\n * <mce-grid-list>\n *   <div>\n *     <img src=\"nature2.jpg\">\n *     <div class=\"mce-text-with-icon\">\n *       <h1>Single Line</h1>\n *     </div>\n *   </div>\n *   <div>\n *     <img src=\"nature2.jpg\">\n *     <div class=\"mce-text-with-icon\">\n *       <h1>Single Line</h1>\n *     </div>\n *   </div>\n * </mce-grid-list>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"baaEeJ\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### Child element of `mce-grid-list` style classes\n *  |name|description|\n *  |---|---|\n *  |mce-text-with-icon| A shady bottom section with text and an icon\n *  |mce-text| Text within text-with-icon section \n * \n */\nexport class GridList extends HTMLElement {\n  connectedCallback() {\n  }\n}\n\n","/**\n * Material icons use geometric shapes to visually represent core ideas, capabilities, or topics. System icons represent a command, file, device, directory, or common actions.\n *\n * [Material Design Spec.](https://material.io/guidelines/style/icons.html#)\n *\n * ### example\n * ```\n *   <mce-icon class=\"mce-small\">face</mce-icon>\n *   <mce-icon>face</mce-icon>\n *   <mce-icon class=\"mce-big\">face</mce-icon>\n *   <mce-icon class=\"mce-double\">face</mce-icon>\n *   <mce-icon class=\"mce-double\">fmce-envelope</mce-icon> <!-- for Font-Awesome icon -->\n *   <mce-icon class=\"mce-double\" img=\"ali.connors.jpg\"></mce-icon>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"MrrKbK\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n *\n * ### `mce-icon` element atttibutes\n *  |name|value|description|\n *  |---|---|---|\n *  |img| image url | Show an image instead of font icon. e.g. img=\"ali.conors.jpg\"\n * \n * ### `mce-icon` element style classes\n *  |name|description|\n *  |---|---|\n *  |mce-small | A smaller icon. 18px\n *  |mce-big | Bigger icon. 36px\n *  |mce-double | Double-sized icon. 48px\n *  |mce-circle | An icon in a circle\n *  |mce-square | An icon in a square\n *  |mce-dark-bg | An icon in dark background\n *  |mce-reactive | An icon respond to click and showing a ripple effect\n *  |mce-disabled | A greyed out without responsiveness\n */\nexport class Icon extends HTMLElement {\n  connectedCallback() {\n    setTimeout(_ => {\n      this._setImageIcon(); // if img attribute given, set image icon\n      this.clickListener = this._onClick.bind(this);\n      this._addEventListener();\n    });\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('mouseup', this.clickListener);\n    this.removeEventListener('touchend', this.clickListener);\n  }\n\n  _onClick(event) {\n    let href = this.getAttribute('href');\n    if (href) {\n      window.location.href = href; //with href, go to the given url, \n    }\n  }\n\n  _addEventListener() {\n    this.addEventListener('mouseup',  this.clickListener);\n    this.addEventListener('touchend',  this.clickListener);\n  }\n\n  _setImageIcon() {\n    let iconText = this.innerHTML;\n    let isFAIcon = iconText.match(/^fa-[a-z\\-]+$/);\n    let isMDIcon = iconText.match(/^[a-z_]+$/);\n    let imgSrc = this.getAttribute('img');\n\n    if (isMDIcon) {\n      this.innerHTML = `<i class=\"material-icons\">${iconText}</i>`;\n    } else if (isFAIcon) {\n      this.innerHTML = `<i class=\"fa ${iconText}\"></i>`;\n    } else if (imgSrc) {\n      this.innerHTML = '<i>photo</i>';\n      this.style.backgroundImage = `url(${imgSrc})`;\n    }\n  }\n}\n","import {parseAttributes} from '../utils/index.js';\n\n/**\n * Lists present multiple line items vertically as a single continuous element.\n *\n * [Material Design Spec.](https://material.io/guidelines/components/lists.html#lists-actions)\n * \n * ## Examples\n *\n * ```\n * <mce-list>\n *   <ol>\n *     <li>\n *       <div class=\"mce-icon\">\n *         <mce-icon class=\"mce-circle\">folder</mce-icon>\n *       </div>\n *       <span>Directory</span>\n *       <mce-icon>info</mce-icon>\n *     </li>\n *     <li>\n *       <div class=\"mce-icon\">\n *         <mce-icon class=\"mce-circle\">hotel</mce-icon>\n *       </div>\n *       <span>Hotel</span>\n *       <mce-icon>info</mce-icon>\n *     </li>\n *   </ol>\n * </mce-list>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"MrrKoy\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n`\n */\nexport class List extends HTMLElement {\n  connectedCallback() {\n    this._focused = {};\n    this._focusTimer;\n    this.events = {};\n    this.initialize();\n  }\n\n  initialize() {\n    let parsedAttrs = parseAttributes(this.attributes);\n    this.events = parsedAttrs.events;\n    \n    for(let eventName in this.events) {\n      this.addEventListener(eventName, this.events[eventName]);\n    }\n  }\n\n  setFocused(elType, focused) {\n    if (focused) {\n      clearTimeout(this._focusTimer);\n      this._focused = {input: false, listItem: false};\n      this._focused[elType] = true;\n    } else { // set blur in a delayed manner;3\n      this._focusTimer = setTimeout(_ => {\n        this._focused[elType] = false;\n      }, 100);\n    }\n  }\n}\n\n","import {observeAttrChange} from '../utils/index.js';\n\n/**\n * Menus display a list of choices on a transient sheet of material. \n *\n * [Material Design Spec.](https://material.io/guidelines/components/menus.html#menus-specs)\n * \n * ### example\n * ```\n *  <a href=\"javascript:showDemoMenu()\">Show/Hide Menu</a>\n *  <mce-menu id=\"demo-menu\" position=\"bottom-left\">\n *    <mce-nav-item icon=\"favorite\" shortcut=\"ctrl-d\">nav item text</mce-nav-item>\n *    <hr>\n *    <mce-nav-item class=\"mce-disabled\">Disabled</mce-nav-item>\n *    <mce-nav-item shortcut=\"ctrl-d\">nav-item text</mce-nav-item>\n *    <mce-nav-item icon=\"search\">nav-item text</mce-nav-item>\n *  </mce-menu>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"xppZrL\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n * ### `mce-menu` Style Classes\n *  |name||description|\n *  |---|---|\n *  |mce-visible|Indicates menu is visible or not\n * \n * ### `mce-menu` Child Element Attributes \n *  |name|value|description|\n *  |---|---|---|\n *  |position| string| Indicates the position of menu. Value is one of bottom-right, bottom-left, top-left, or top-right\n *  \n * ### `mce-menu` Child Element Style Classes\n *  |name||description|\n *  |---|---|\n *  |mce-divider| An horizontal line that separates group of menus.\n *  |mce-shortcut| shortcut text to be right positioned.\n */\nexport class Menu extends HTMLElement {\n  connectedCallback() {\n    observeAttrChange(this, (attr, val) => {\n      if (attr == 'class' && this.classList.contains('visible')) {\n        this.open();\n      }\n    });\n    this.hideMenu = this.close.bind(this); // so that hideMenu can be done from outside\n    this._addEventListener();\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('click', this.hideMenu);\n  }\n\n  /**\n   * open the menu by adding `visible` class\n   * when a menu is opening, all other menus are closed\n   * @returns {void}\n   */\n  open() {\n    // show only this\n    if (!this.classList.contains('mce-visible')) { //  without, infinite loop, add <-> observe\n      this.classList.add('mce-visible');\n    }\n    // hide all other menus\n    Array.from(document.querySelectorAll('mce-menu')).forEach(menu => {\n      (this.isSameNode(menu) === false) && menu.classList.remove('mce-visible');\n    });\n    // When document is clicked, it closes all menus, but this remained to open\n    this.justShown = true; // in case when attribute is changed by outside of this\n    setTimeout(_ => this.justShown = false, 100);\n  }\n\n  /**\n   * close the menu by removing `visible` class\n   * @returns {void}\n   */\n  close(event) {\n    if (!this.justShown && !this.contains(event.target)) { // if not clicked on menu\n      this.classList.remove('mce-visible');\n    }\n  }\n\n  _addEventListener() {\n    document.addEventListener('click', this.hideMenu);\n    this.addEventListener('close', _ => {\n      this.classList.remove('mce-visible');\n    }); //child can fire close. then close it\n  }\n}\n\n","import {observeAttrChange, windowResizeHandler} from '../utils/index.js';\n\n/**\n * The navigation drawer slides in from the left and contains the navigation destinations for your app.\n * The nav drawer spans the height of the screen, with everything behind it visible but darkened by a scrim. \n * When nav drawer opens, the document does not scroll any more. When it's closed, scrolling is enabled again.\n * \n * [Material Design Spec.](https://material.io/guidelines/patterns/navigation-drawer.html#navigation-drawer-specs)\n *\n * ### example\n * ```\n *   <a href=\"javascript:document.getElementById('#drawer').open()\">Show Navigation Drawer</a>\n *   <mce-nav-drawer id=\"drawer\">\n *     <mce-nav-item icon=\"favorite\">Favourite</mce-nav-item>\n *     <mce-nav-item icon=\"search\" class=\"mce-disabled\">Disabled</mce-nav-item>\n *     <mce-nav-item>Alarm</mce-nav-item>\n *     <hr>\n *     <mce-nav-item icon=\"music_note\">Music</mce-nav-item>\n *   </mce-nav-drawer>\n * ``` \n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"jYYWLE\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n * ### `mce-nav-drawer` Style Classes\n *  |name||description|\n *  |---|---|\n *  |visible| indicates nav drawer is open state\n * \n * ### `mce-nav-drawer` Child Element Style Classes\n *  |name||description|\n *  |---|---|\n *  |mce-divider| An horizontal line that separates group of navigable items.\n */\nexport class NavDrawer extends HTMLElement {\n  connectedCallback() {\n    observeAttrChange(this, (attr, val) => {\n      if (attr === 'class') {\n        // if drawer shown, disable body scroll\n        document.body.style.overflow = this.classList.contains('mce-visible') ? 'hidden' : '';\n      }\n    });\n    if (window.ce && window.ce.resizeHandler) {} else {\n      window.ce = {resizeHandler: windowResizeHandler};\n      window.addEventListener('resize', window.ce.resizeHandler);\n      window.addEventListener('load', window.ce.resizeHandler);\n    }\n    setTimeout(_ => {\n      this.regroupedOnce = false;\n      this._regroupElements();\n    });\n  }\n\n  /**\n   * open the nav drawer by adding `visible` class\n   */\n  open() {\n    this.classList.add('mce-visible');\n  }\n\n  /**\n   * close the nav drawer by removing `visible` class\n   */\n  close() {\n    this.classList.remove('mce-visible');\n  }\n\n  _regroupElements() {\n    if (!this.regroupedOnce) {\n      let pageBlockerEl, contentsEl;\n      pageBlockerEl = document.createElement('div');\n      pageBlockerEl.classList.add('mce-page-blocker');\n      pageBlockerEl.addEventListener('click', () => this.close());\n      this.appendChild(pageBlockerEl);\n\n      contentsEl = document.createElement('div');\n      contentsEl.classList.add('mce-contents');\n      this.appendChild(contentsEl);\n\n      Array.from(this.children).forEach(el => {\n        if (!el.isSameNode(contentsEl) && !el.isSameNode(pageBlockerEl)) {\n          contentsEl.appendChild(el);\n        }\n      });\n      this.addEventListener('close', _ => this.close()); //child can fire close. then close it\n    }\n    this.regroupedOnce = true;\n  }\n\n}\n\n","export class NavItem extends HTMLElement {\n  connectedCallback() {\n    this.regroupedOnce = false;\n    setTimeout(this._regroupElements.bind(this));\n  }\n\n  setActiveItem(event) {\n    Array.from(this.parentElement.querySelectorAll('mce-nav-item')).forEach(function(el) {\n      el.classList.remove('mce-active');\n    }); \n    this.classList.add('mce-active');\n\n    let href = this.getAttribute('href');\n    if (href) {\n      window.location.href = href; //with href, go to the given url, \n      //with href, close it if the container is mce-nav-drawer or mce-menu\n      let customEvent = new CustomEvent('close', event);\n      this.dispatchEvent(customEvent);\n      event.preventDefault();\n    }\n  }\n\n  _regroupElements() {\n    if (!this.regroupedOnce) {\n      if (!this.querySelector('span.text')) {\n        this.innerHTML = `<span class=\"mce-text\">${this.innerHTML}</span>`;\n      }\n      this.addEventListener('click', this.setActiveItem.bind(this));\n      this.icon = this.getAttribute('icon');\n      this.shortcut = this.getAttribute('shortcut');\n      if (this.icon && !this.querySelector('mce-icon')) {\n        let isFAIcon = this.icon.match(/^fa-[a-z\\-]+$/);\n        let isMDIcon = this.icon.match(/^[a-z_]+$/);\n\n        this.iconEl = document.createElement('mce-icon');\n        if (isMDIcon) {\n          this.iconEl.innerHTML = this.icon;\n        } else if (isFAIcon) {\n          this.iconEl.insertAdjacentHTML('beforeend', `<i class=\"fa ${this.icon}\"></i>`);\n        } else {\n          this.iconEl.insertAdjacentHTML('beforeend', `<img src=\"${this.icon}\" />`);\n        }\n        this.insertBefore(this.iconEl, this.firstChild);\n      }\n      if (this.shortcut && !this.querySelector('mce-icon')) {\n        this.shortcutEl = document.createElement('div');\n        this.shortcutEl.classList.add('mce-shortcut');\n        this.shortcutEl.innerHTML = this.shortcut;\n        this.appendChild(this.shortcutEl);\n      }\n    }\n    this.regroupedOnce = true;\n  }\n}\n\n","import {observeAttrChange} from '../utils/index.js';\n\n/**\n * Snackbars contain a single line of text directly related to the operation performed. \n * They may contain a text action, but no icons.\n *\n * [Material Design Spec](https://material.io/guidelines/components/snackbars-toasts.html#snackbars-toasts-specs)\n *\n * ### example\n * ```\n * <mce-snackbar>Message has been processed.</mce-snackbar>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"PEJKKo\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-snackbar` attributes\n *  |name|value|description|\n *  |---|---|--|\n *  |bottom|number|distance from bottom in pixel. e.g. 30|\n * \n * ### `mce-snackbar` classes \n *  |name|description|\n *  |---|---|\n *  |mce-visible| show this snackbar|\n * \n */\n\nexport class Snackbar extends HTMLElement {\n  connectedCallback() {\n    this.bottom = this.getAttribute('bottom') || '56';\n    this.open();\n  }\n\n  set message(msg) {\n    if (this.querySelector('.text')) {\n      this.querySelector('.text').innerHTML = msg;\n    } else {\n      this.innerHTML = msg;\n    }\n  }\n\n  /**\n   * show mce-snackbar by adding `mce-visible` class\n   * @param {string} msg message to show\n   * @returns {void}\n   */\n  open(msg) {\n    msg && (this.message = msg);\n    this.style.bottom  = this.bottom + 'px';\n    this.classList.add('mce-visible');\n    setTimeout(_ => {\n      this.classList.remove('mce-visible');\n    }, 3000);\n  } \n\n  /**\n   * close mce-snackbar by removing `mce-visible` class\n   * @returns {void}\n   */\n  close() {\n    this.classList.remove('mce-visible');\n  }\n\n}\n\n","import {observeAttrChange, setTabbable} from '../utils/index.js';\n\n//https://material.io/guidelines/layout/structure.html#structure-app-bar\n\n/**\n * Switches allow a selection to be turned on or off.\n *\n * [Material Design Spec](https://material.io/guidelines/components/selection-controls.html#)\n *\n * ## Examples\n * ```\n * <mce-switch id=\"checkbox21\"></mce-switch> <label for=\"checkbox21\">Unchecked</label>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"LeeGzQ\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-switch` Attributes \n * It accepts all `input` checkbox attributes. E.g., id, name, value, disaled, or checked\n */\nexport class Switch extends HTMLElement {\n  \n  connectedCallback() {\n    this.inputAttrs = ['id', 'name', 'value', 'disabled', 'checked'];\n    this.inputEl = this._addRealInput();\n    observeAttrChange(this, (attr, val) => {\n      val === null ? this.inputEl.removeAttribute(attr) : this.inputEl.setAttribute(attr, val);\n    });\n    setTabbable(this, _ => this.inputEl.click());\n  }\n\n  _addRealInput() {\n    let inputEl = document.createElement('input');\n    inputEl.setAttribute(\"type\", \"checkbox\");\n    Array.from(this.attributes).forEach( attr => {\n      if (this.inputAttrs.includes(attr.name) && attr.value !== null) {\n       inputEl.setAttribute(attr.name, attr.value);\n       (attr.name === 'id') && this.setAttribute('id', 'mce-switch-'+attr.value);\n      }\n    });\n    inputEl.addEventListener('click', _ => {\n      inputEl.checked ? this.setAttribute('checked', '') : this.removeAttribute('checked');\n    });\n    this.appendChild(inputEl);\n    return inputEl;\n  }\n\n}\n\n","import {animate, setTabbable} from '../utils/index.js';\n\n/**\n * Tabs make it easy to explore and switch between different views.\n *\n * [Material Design Spec](https://material.io/guidelines/components/tabs.html#tabs-specs)\n * \n * ### Example\n *\n * ```\n * <mce-tabs>\n *   <mce-nav-item icon=\"favorite\"></mce-nav-item>\n *   <mce-nav-item icon=\"search\" class=\"mce-active\"></mce-nav-item>\n *   <mce-nav-item icon=\"alarm\"></mce-nav-item>\n * </mce-tabs>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"VyyeMd\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-tabs` Style Classes\n *  |name||description|\n *  |---|---|\n *  |mce-active| indicates currently active tab with indicator\n * \n */\n\nexport class Tabs extends HTMLElement {\n\n  connectedCallback() {\n    setTimeout(_ => {\n      this.indicatorEl = this._addIndicatorEl();\n      this._addEventListener();\n      setTimeout(this._selectActiveTab.bind(this), 100);\n    });\n  }\n\n  getActiveTab(event) {\n    let activeTab;\n    if (event) { // if clicked or tapped\n      activeTab = event.target.closest('mce-nav-item');\n    } else {\n      activeTab = this.querySelector('mce-nav-item.mce-active');\n      activeTab = activeTab || this.querySelector('mce-nav-item:first-child');\n    }\n    return activeTab;\n  }\n\n  _addIndicatorEl() {\n    let el = document.createElement('div');\n    let thisBCR  = this.getBoundingClientRect();\n    let activeTabBCR = this.getActiveTab().getBoundingClientRect();\n\n    el.classList.add('mce-indicator');\n    el.style.left = (activeTabBCR.left - thisBCR.left) / thisBCR.Width*100 + '%';\n    this.appendChild(el);\n    return el;\n  }\n\n  /**\n   * animate the indicator below the active tab\n   */\n  _selectActiveTab(event) {\n    let indicatorEl = this.indicatorEl;\n    let numTab = this.querySelectorAll('mce-nav-item').length;\n    let activeTab = this.getActiveTab(event);\n    // console.log('activeTab', activeTab, event && event.target);\n\n    Array.from(this.querySelectorAll('mce-nav-item')).forEach(navItem => {\n      navItem.setAttribute('tabindex', navItem.isSameNode(activeTab) ? 0 : -1);\n    });\n    // activeTab.focus();\n\n    setTimeout(_ => { // wait for mce-nav-item.active changes\n      let thisBCR = this.getBoundingClientRect();\n      let activeTabBCR = activeTab.getBoundingClientRect();\n\n      let indicatorFromPct = parseFloat(indicatorEl.style.left || 0);\n      let indicatorToPct = (activeTabBCR.left - thisBCR.left) / thisBCR.width;\n      let move = indicatorToPct * 100 - indicatorFromPct;\n\n      indicatorEl.style.width = parseFloat(100/numTab) + '%';\n\n      animate({\n        duration: 450,\n        timing: function(timeFraction) {\n          return 1 - Math.sin(Math.acos(timeFraction));\n        },\n        draw: function(progress) {\n          indicatorEl.style.left = indicatorFromPct + (progress*move) + '%';\n        }\n      });\n    });\n  }\n\n  _addEventListener() {\n    // for each tab, set click and keydown event listeners\n    Array.from(this.querySelectorAll('mce-nav-item')).forEach( navItem => {\n      //when clicked, open the tab\n      navItem.addEventListener('click', this._selectActiveTab.bind(this));\n      // listen to keyboard up,down,next,right,space and enter\n      navItem.addEventListener('keydown', event => {\n        //with arrow keys, move tab\n        let tabMoveIndex = \n          (event.key === \"ArrowRight\" || event.key === \"ArrowUp\") ? 1 :\n          (event.key === \"ArrowLeft\" || event.key === \"ArrowDown\") ? -1 : 0;\n        let tabToMove, activeTabIndex = 0;\n        let activeTab = this.getActiveTab(event);\n        let navItems = this.querySelectorAll('mce-nav-item');\n\n        for(var i = 0; i < navItems.length; i++) {\n          navItems[i].isSameNode(activeTab) && (activeTabIndex = i);\n        }\n\n        tabToMove = navItems[(activeTabIndex + tabMoveIndex + navItems.length) % navItems.length];\n        tabToMove && !tabToMove.isSameNode(activeTab) && tabToMove.click();\n\n        //with space or enter, open tab\n        (event.key === \"Enter\") && navItem.click();\n      });\n    });\n  }\n\n}\n\n","/**\n * Text fields allow users to input, edit, and select text. Text fields typically reside in forms but can appear in other places, like dialog boxes and search. Text fields contain the following elements; label, input text field, placeholder text, helper text, required field indicator, icon, and error messages.\n * \n * [Material Design Spec](https://material.io/guidelines/components/text-fields.html#text-fields-layout)\n *\n * ###  Example\n * ```\n * <mce-text-field disabled multi-line\n *   icon=\"favorite\"\n *   helper-text=\"this is helper text\"\n *   label=\"this is label\"\n *   maxlength=\"100\"\n *   minlength=\"10\"\n *   minlength-error=\"invalid text min. length\"\n *   maxlength-error=\"invalid text max. length\"\n *   optional=\"(optional)\"\n *   pattern-error=\"invalid text pattern\"\n *   pattern=\"[a-z]+\"\n *   placeholder=\"this is hint text\"\n *   prefix=\"$\"\n *   readonly\n *   required=\"this field is required\"\n *   suffix=\"dollars\"></mce-text-field>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"BJJjwe\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n * ### `mce-text-field` Attributes \n *  |name|value|description|\n *  |---|---|---|\n *  |disabled| |Disabled Status. No interaction is allowed with this status.\n *  |multi-line| | Allows multi-line input\n *  |icon| text |Icon name that will be located on the left-side. e.g. credit_card\n *  |label| text |Label text that will be displayed when not active, and minized when active.\n *  |optional| text |Text to be appended at the lable indicating it is optional. Default. \"(optional)\"\n *  |suffix | text |Read-only input helper to be displayed at the end of input field. e.g., 'dollars'\n *  |prefix| text|Read-only input helper to be displayed at the beginning of input field. e.g., '$'\n *  |suffix | text |Read-only input helper to be displayed at the end of input field. e.g., 'dollars'\n *  |required-error| text |Error message when 'required' is given with no value. e.g., 'Fill out the column'. Default. 'This field is required'\n *  |min-error| text | Error message when 'min' is given but not valid. Default. 'invalid min. value''\n *  |max-error| text  |Error message when 'max' is given but not valid. Default. 'invalid max. value''\n *  |minlength-error| text |Error message when 'minlength' is given but not valid. Default. 'invalid min. length''\n *  |maxlength-error| text  |Error message when 'maxlength' is given but not valid. Default. 'invalid max. length''\n *  |pattern-error| text |Error message when 'pattern' is given with regular expression but not valid. Default. 'invalid input text'\n *  |type-error| text |Error message when 'type' is given but not. Default. 'invalid input for type <type>'\n * \n *  `mce-text-field` passes all attributes to `input` field, which means all standard input attributes are acceptable,\n *  and it affects the actual input. Sometime this can cause some strange behaviour, \n *  but it's up to user without blocking it. For example `type=\"range\"` is not for text field, but still\n *  working without error.\n *  \n * ### `mce-text-field` Classes\n *  |name|description|\n *  |---|---|\n *  |mce-empty | Indicating that the field is empty. When empty, helper text is shown. When not empty and errorneous, error message is shown.\n *  |mce-invalid | Indicating that the field is errorneous. With this status, error message is shown if given.\n *  |mce-active| Indicating the input field is focused and active by minimizing label and showing placeholder text.\n *  |mce-dirty| Indicating user has entered any input to this field. Error message is only displayed when it is dirty status.\n */\nexport class TextField extends HTMLElement {\n  connectedCallback() {\n    this.id = 'mce-text-field-'+Math.round(Math.random()*Math.pow(10,9));\n    this._buildHTML();\n\n    this.inputEl = this.querySelector('#'+this.id);\n    this._addEventListeners();\n  }\n\n  /**\n   * @property {boolean} disabled - disabled status\n   */\n  get disabled() {\n    return this.getAttribute('disabled') !== '';\n  }\n\n  /**\n   * set disabled status\n   * @param {boolean} true of false\n   * @returns {void}\n   */\n  set disabled(disabled) {\n    disabled ? this.setAttribute('disabled', '') : this.removeAttribute('disabled');\n  }\n\n  /**\n   * @returns {Object} registered error messages. e.g., <pre>\n   *  {\n   *    rangeUnderflow: 'invalid min.value',\n   *    rangeOverflow: 'invalid max.value',\n   *    stepMismatch: 'invalid value(step)',\n   *    tooShort:  'invalid min. length',\n   *    tooLong: 'invalid max. length',\n   *    patternMismatch: 'invalid input text',\n   *    valueMissing: 'this field is requierd',\n   *    typeMismatch:  'invalid input for type email',\n   *    customError: 'invaid input(custom error)',\n   *    invalidError: 'invaid input'\n   *  } </pre>\n   */\n  get errorMessages() {\n    let errorMessages = this.__cachedErrorMessages || {\n      rangeUnderflow: this.getAttribute('min-error') || 'invalid min. value',\n      rangeOverflow: this.getAttribute('max-error') || 'invalid max. value',\n      stepMismatch: this.getAttribute('step-error') || 'invalid value(step)',\n      tooShort:  this.getAttribute('minlength-error') || 'invalid min. length',\n      tooLong: this.getAttribute('maxlength-error') || 'invalid max. length',\n      patternMismatch: this.getAttribute('pattern-error') || 'invalid input text',\n      valueMissing: this.getAttribute('required-error') || 'this field is requierd',\n      typeMismatch: this.getAttribute('type-error') ||\n        'invalid input for type, '+this.getAttribute('type'),\n      customError: this.getAttribute('custom-error') || 'invaid input(custom error)',\n      invalidError: this.getAttribute('invalid-error') || 'invaid input'\n    };\n    this.__cachedErrorMessages = errorMessages;\n    return errorMessages;\n  }\n\n  _buildHTML() {\n    let icon = this.getAttribute('icon') || '';\n    let type = this.getAttribute('type') || 'text';\n    let hintText = this.getAttribute('placeholder') || '';\n    let helpetText = this.getAttribute('helper-text') || '';\n    let label = this.getAttribute('label') || '';\n    let prefix = this.getAttribute('prefix') || '';\n    let suffix = this.getAttribute('suffix') || '';\n    let optionalText = this.getAttribute('optional') || '';\n    let helperText = this.getAttribute('helper-text') || '';\n    let requiredText = this.getAttribute('required') !== null ? ' *' : '';\n    let multiLine = this.getAttribute('multi-line') !== null ? true : false;\n\n    let attrs = [];\n    for (let i=0; i<this.attributes.length; i++) {\n      let attr = this.attributes[i];\n      (!attr.name.match(/-/)) && attrs.push(`${attr.name}=\"${attr.value}\"`);\n    }\n    let attributes = attrs.join(' ');\n    let inputWrapperHTML = multiLine ? \n      `<textarea class=\"mce-input\" id=\"${this.id}\" ${attributes}>${this.getAttribute('value') || ''}</textarea>`:\n      `<div class=\"mce-prefix\">${prefix}</div>\\n\n       <input class=\"mce-input\" type=\"${type}\" id=\"${this.id}\" ${attributes} />\\n\n       <div class=\"mce-suffix\">${suffix}</div>\\n`;\n\n    let html = `\n      <mce-icon class=\"mce-icon\">${icon}</mce-icon>\n      <div class=\"mce-container\">\n        <label for=\"${this.id}\" style=\"\">${label}${optionalText}${requiredText}</label>\n        <div class=\"mce-input-wrapper\">\n          ${inputWrapperHTML}\n        </div>\n        <hr />\n        <div class=\"mce-helper-text\">${helperText}</div>\n        <div class=\"mce-error-messages\"></div>\n      </div>\n    `;\n    this.insertAdjacentHTML('beforeend', html);\n  }\n\n  _getErrors() {\n    let errors = {};\n    for (var key in this.inputEl.validity) {\n      if (key !== 'valid' && this.inputEl.validity[key]) {\n        errors[key] = this.errorMessages[key];\n      }\n    }\n    if (this.getAttribute('maxlength')) {\n      let tooLong = this.inputEl.value.length > parseInt(this.getAttribute('maxLength'));\n      tooLong && (errors.tooLong = this.errorMessages.tooLong);\n    }\n    return errors;\n  }\n\n  _addEventListeners() {\n    let setStatus = () => {\n      let empty  = !this.inputEl.value;\n      let error = Object.values(this._getErrors())[0];\n      let errMsgEl = this.querySelector('.mce-error-messages');\n      let dirty = this.classList.contains('mce-dirty');\n\n      empty ? this.classList.add('mce-empty') : this.classList.remove('mce-empty');\n      if (dirty && error) {\n        this.classList.add('mce-invalid'); \n        errMsgEl.innerHTML = error;\n      } else {\n        this.classList.remove('mce-invalid');\n      }\n    };\n\n    setStatus();\n\n    this.addEventListener('click', event => {\n      this.classList.add('mce-active');\n      this.inputEl.focus();\n    });\n\n    this.inputEl.addEventListener('blur', event => {\n      this.classList.remove('mce-active');\n    });\n\n    this.inputEl.addEventListener('change', event => {\n      this.classList.add('mce-dirty');\n      setStatus();\n    });\n\n    if (this.querySelector('textarea')) { // if multiline, autoresize the input height\n      this.inputEl.closest('.mce-container').style.transition = 'none';\n      this.inputEl.addEventListener('input', this._autoResizeTextarea.bind(this) );\n    }\n  }\n\n  _autoResizeTextarea(event){\n    let scrollHeight = this.inputEl.scrollHeight;\n    this.inputEl.style.height = scrollHeight + 'px';\n    this.inputEl.closest('.mce-container').style.height = scrollHeight + 60 + 'px';\n  }\n}\n\n","// FYI, http://plnkr.co/edit/I9mfBNIKJtALHwKmS0CH?p=preview. ARIA tooltip approach.\n\n/**\n * Tooltips are text labels that appear when the user hovers over, focuses on, or touches an element.\n * \n * [Material Design Spec](https://material.io/guidelines/components/tooltips.html)\n *\n * ###  Example\n * ```\n * <mce-button class=\"mce-raised\">\n *   <mce-tooltip>This is a tooltip for a button</mce-tooltip>\n *   Mouse\n * </mce-button>\n * <mce-button class=\"mce-raised\" style=\"float: right\">\n *   <mce-tooltip>This is a tooltip for a button</mce-tooltip>\n *   Tooltip\n * </mce-button>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"ZvvQap\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n */\nexport class Tooltip extends HTMLElement {\n  connectedCallback() {\n    this._addEventListeners();\n  }\n\n  _addEventListeners() {\n    this.parentElement.addEventListener('mouseenter', event => {\n      this.originalPos = { \n        parent: event.target,\n        nextSibling: this.nextSiblingNode\n      };\n      this._showTooltip();\n    });\n    this.parentElement.addEventListener('mouseleave', _ => {\n      this.classList.remove('mce-visible');\n      this.originalPos.parent.insertBefore(this, this.originalPos.nextSibling);\n    });\n  }\n\n  _showTooltip() {\n    let parentBCR = this.originalPos.parent.getBoundingClientRect(); // relative to viewport\n    let body = document.body;\n    let docEl = document.documentElement;\n\n    let scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    let scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n    let clientTop = docEl.clientTop || body.clientTop || 0;\n    let clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n    let docPosTop = Math.round(parentBCR.top +  scrollTop - clientTop);\n    let docPosLeft = Math.round(parentBCR.left + scrollLeft - clientLeft);\n\n    let top = docPosTop + parentBCR.height + 24;\n\n    this.style.top = top + 'px';\n    this.style.left = '';\n    this.style.right = '';\n\n    document.body.appendChild(this);\n    setTimeout(_ => {\n      let thisBCR = this.getBoundingClientRect(); // it needs time to calc this properly\n      let left = docPosLeft + (parentBCR.width / 2) - (thisBCR.width / 2);\n\n      if (left < 8) {\n        this.style.left = '8px';\n      } else if (left + thisBCR.width > document.body.clientWidth) {\n        this.style.right = '8px';\n      } else {\n        this.style.left = left + 'px';\n      }\n\n      this.classList.add('mce-visible');\n    }, 100);\n  }\n}\n\n","/**\n * An element that covers the another element.\n * Useful to show that the block is loading\n *\n * ### example\n * ```\n * <div>\n *   <mce-blocker>\n *     <mce-refresh-indicator mce-no-border mce-loading></mce-refresh-indicator>\n *   </mce-blocker>\n * </div>\n * ```\n *\n * <p data-height=\"300\" data-theme-id=\"32189\" data-slug-hash=\"GyBeMz\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce an-app-bar\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/EobYmr/\">mce an-app-bar</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-blocker` classes\n *  |name|description|\n *  |---|---|\n *  |mce-visible| if given, the blocker is displayed\n *\n */\nexport class Blocker extends HTMLElement {\n  connectedCallback() {\n    this.classList.contains('mce-visible') && this.open();\n  }\n\n  open() {\n    //works as a blocker\n    let elStyle = window.getComputedStyle(this.parentElement);\n    let position = elStyle.getPropertyValue(\"position\");\n    let notPositioned = ['static'].includes(position); // static, relative, fixed, absolute, sticky\n    let css = {\n      position: 'absolute',\n      backgroundColor: 'rgba(0,0,0,0.2)',\n      top: notPositioned ? this.parentElement.offsetTop + 'px' : '0px',\n      left: notPositioned ? this.parentElement.offsetLeft + 'px' : '0px',\n      width: this.parentElement.offsetWidth + 'px',\n      height: this.parentElement.offsetHeight + 'px',\n      borderRadius: elStyle.borderRadius\n    };\n\n    Object.assign(this.style, css);\n    this.classList.add('mce-visible');\n  }\n\n  close() {\n    this.classList.remove('mce-visible');\n  }\n}\n","import {parseAttributes} from '../utils/index.js';\n\n/**\n * Render element only if the element comes into the viewport\n * Then, fires `inview` and `outview` events when in/out of viewport\n *\n * ### example\n * ```\n *  <mce-inview on-inview=\"inview(event)\" on-outview=\"outview(event)\" \n     root=\"body\" root-margin=\"10px 20px 30px 40px\" threshold=\"[.1,.2,.3,.4,.5]\">\n *    <template>\n *      <div class=\"comment\">This image is only rendered when this is in viewport.</div>\n *      <img src=\"https://picsum.photos/200/300/?random\" />\n *    </template>\n *  </mce-inview>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"xppZrL\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### Attributes\n *\n *  |name       |value     |description                        |\n *  |-----------|----------|-----------------------------------|\n *  |root       |selector  | The element that is used as the viewport for checking visiblity of the target. \n *  |margin     |string    | Margin around the root. e.g. 10px 20px 30px 40px\n *  |threshold  |array     | percentage of the target's visibility the observer's callback should be executed. \n *  |on-inview  |expression| The given expression will be run when this element is in viewport e.g. on-inview=\"inview(event)\"\n *  |on-outview |expression| The given expression will be run when outview event is fired e.g. on-inview=\"inview(event)\"\n *\n * ### `mce-menu` Child Element Attributes \n *  |name|value|description|\n *  |---|---|---|\n *  |template| HTMLTemplateElement| contains HTML entities when it comes into the viewport\n *  \n */\nexport class Inview extends HTMLElement {\n  connectedCallback() {\n    this.options = {threshold: [.1, .2, .3, .4, .5, .6, .7, .8]}; // default IntersetionObserver options\n    this.events = {};\n    this.once80PctVisible = false;\n    this.templateActivated = false;\n    this.initialize();\n  }\n\n  initialize(){\n    let parsedAttrs = parseAttributes(this.attributes);\n    this.options = Object.assign({}, this.options, parsedAttrs.options);\n    this.events = parsedAttrs.events;\n\n    //set Intersection Observer\n    this.observer = new IntersectionObserver(this.__handleIntersect.bind(this), this.options);\n    this.observer.observe(this);\n\n    this.events.inview = this.events.inview || this.__defaultInviewHandler;\n    for(let eventName in this.events) {\n      this.addEventListener(eventName, this.events[eventName]);\n    }\n  }\n\n  /** fires (inview) and (notInview) events when this component is visible or not visible  */\n  __handleIntersect(entries, observer) {\n    entries.forEach(entry => {\n      let detail = {entry};\n      if (entry.isIntersecting) {\n        this.__activateTemplate();\n        this.dispatchEvent(new CustomEvent('inview', {detail}));\n      } else {\n        this.dispatchEvent(new CustomEvent('outview', {detail}));\n      }\n    });\n  }\n\n  __activateTemplate() {\n    if (this.templateActivated) return;\n\n    const t = this.querySelector('template');\n    const clone = document.importNode(t.content, true);\n    this.appendChild(clone);\n\n    this.templateActivated = true;\n  }\n\n  /**\n   * default intersection handler, which sets blur dependes on intersection ratio\n   */\n  __defaultInviewHandler(event) {\n    if (this.once80PctVisible)        return false;\n    const entry = event.detail.entry;\n\n    if (entry.intersectionRatio < 0.8) {\n      const opacity = entry.intersectionRatio * (1 / 0.8);\n      const blur = 20 - Math.floor(entry.intersectionRatio * 10) * 4;\n      const filter = `blur(${blur}px)`;\n      // Object.assign(entry.target.style, {opacity, filter});\n      Object.assign(entry.target.style, {opacity});\n    } else {\n      entry.target.style.opacity = 1;\n      entry.target.style.filter = 'unset';\n\n      this.once80PctVisible = true;\n    }\n  }\n\n}\n\n","import {str2Val} from '../utils/index.js';\n\n/**\n * List item responds to tab, keydown, keyup(ENTER, ESC), and cick\n *\n * ## Examples\n *\n * ```\n * <mce-list>\n *  <mce-list-item item=\"my.obj[1]\"></mce-list-item>\n * </mce-list>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"MrrKoy\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\ncript async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * ### `mce-list-item` attributes \n *  |name|value   |description                             |\n *  |----|--------|----------------------------------------|\n *  |item| object | The object that will be assigned to this list-item, so when it is selected, this item will be fired as an event\n * \n */\nexport class ListItem extends HTMLElement {\n  connectedCallback() {\n    this.item = null; \n    this.parentListEl = null;\n    this.initialize();\n  }\n\n  initialize() {\n    this.setAttribute('tabindex', '0');\n    this.item = this.textContent;\n    if (this.getAttribute('item')) { // we don't know when the value is assigned\n      setTimeout(_ => { this.item = str2Val(this.getAttribute('item')); });\n    }\n    this.parentListEl = this.closest('mce-list, .mce-list');\n    this.addEventListener('keydown', this.__keydownHandler.bind(this));\n    this.addEventListener('keyup', this.__keyupHandler.bind(this));\n    this.addEventListener('click', this.__clickHandler.bind(this));\n    this.addEventListener('focus', this.__focusHandler.bind(this));\n    this.addEventListener('blur', this.__blurHandler.bind(this));\n  }\n\n  __keydownHandler(event) {\n    const keyCode = event.which || event.keyCode;\n    const listItems = this.parentListEl.querySelectorAll('mce-list-item');\n    const listItemNdx = Array.from(listItems).indexOf(this);\n    const nextListItem = listItems[listItemNdx + 1] || listItems[0];\n    const prevListItem = listItems[listItemNdx - 1] || listItems[listItems.length - 1];\n\n    switch (keyCode) {\n      case 37: case 38: // up arrow, left arrow\n        prevListItem.focus();\n        break;\n      case 39: case 40: // down arrow, right arrow\n        nextListItem.focus();\n        break;\n      default:\n        break;\n    }\n  }\n\n  __keyupHandler(event) {\n    let customEvent;\n    switch (event.key) {\n      case 'Enter':\n      case 'Escape':\n        const eventName = event.key == 'Enter' ? 'selected' : 'escaped';\n        customEvent = new CustomEvent(eventName, {detail: this.item});\n        this.parentListEl.dispatchEvent(customEvent);\n        this.parentListEl.focus();\n        break;\n      default:\n        break;\n    }\n  }\n\n  __clickHandler(event) {\n    let customEvent = new CustomEvent('selected', {detail: this.item});\n    this.parentListEl.dispatchEvent(customEvent);\n  }\n\n  __focusHandler(event) {\n    this.parentListEl.setFocused && this.parentListEl.setFocused('listItem', true);\n  }\n\n  __blurHandler(event) {\n    this.parentListEl.setFocused && this.parentListEl.setFocused('listItem', false);\n  }\n\n}\n\n\n","import {observeAttrChange, parseAttributes, callSetMethod} from '../utils/index.js';\nimport {resolveLatLng} from './leaflet-util.js';\n\n/**\n * @description\n * leaflet marker element, `mce-marker`\n * \n * ### example\n * ```\n * <mce-leaflet center=\"[50.5, 30.5]\">\n *   <mce-marker lat-lng=\"[50.5, 30.5]\"></marker>\n * </mce-leaflet>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"XVVXRp\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * Popup Example\n * \n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"mppVmz\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n * \n * ### `mce-marker` Attributes \n * any marker options defined in leaflet, http://leafletjs.com/reference-1.2.0.html#marker-option\n * As an example, for draggable \n *\n *  |name|value|description|\n *  |---|---|---|\n *  |draggable|Boolean| Whether the marker is draggable with mouse/touch or not.\n *  |...|...| [more](http://leafletjs.com/reference-1.2.0.html#marker-option)\n * \n * any events defined in marker with `on-` prefixed; http://leafletjs.com/reference-1.2.0.html#marker-event\n * As an example, for move event, \n *\n *  |name|value|description|\n *  |---|---|---|\n *  |on-move|function reference| e.g. on-move=\"myMoveHandler\"\n *  |...|...| [more](http://leafletjs.com/reference-1.2.0.html#marker-event)\n */\nexport class LeafletMarker extends HTMLElement {\n  connectedCallback() {\n    this._map;\n    this.mapObj;                                     // marker\n    this.options = {latlng: [51.505, -0.09]};        // default options\n    this.events = {};\n    this.initialize(this.map);\n  }\n\n  disconnectedCallback() {\n    this.map.removeLayer(this.mapObj);\n  }\n\n  get map() {\n    this._map = this._map || this.closest('mce-leaflet').map;\n    return this._map;\n  }\n\n  initialize(map){\n    if (!map) return;\n    let attrParsed = parseAttributes(this.attributes);\n\n    this.options = Object.assign(this.options, attrParsed.options);\n    this.events = attrParsed.events;\n    resolveLatLng(this.options.latlng)\n      .then(latlng => {\n        this.mapObj = new L.marker(latlng, this.options);    // set options\n        this.mapObj.customElement = this;\n        for(let eventName in this.events) {                  // set events\n          this.mapObj.on(eventName, this.events[eventName]);\n        }\n\n        this.mapObj.addTo(map);                              // add to map\n        observeAttrChange(this, this.onAttrChange.bind(this));\n      });\n  }\n\n  // run setXXX if defined when attribute value changes\n  onAttrChange(name, val) {\n    if (name === 'latlng') {\n      resolveLatLng(val).then(latlng => this.mapObj.setLatLng(latlng));\n    } else if (!['class', 'tabindex', 'style'].includes(name)) {\n      callSetMethod(this.map, name, val);\n    }\n  }\n\n}\n","import {observeAttrChange, parseAttributes, callSetMethod, waitUntil} from '../utils/index.js';\nimport {resolveLatLng} from './leaflet-util.js';\n\n/**\n * @description\n * leaflet map element, `mce-leaflet`\n * \n * ### example\n * ```\n * <mce-leaflet center=\"Brampton, Canada\"></mce-leaflet>\n * ```\n *\n * <p data-height=\"600\" data-theme-id=\"32189\" data-slug-hash=\"OzzMbd\" data-default-tab=\"result\" data-user=\"allenhwkim\" data-embed-version=\"2\" data-pen-title=\"mce template\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/allenhwkim/pen/PEJKKo/\">mce template</a> by Allen kim (<a href=\"https://codepen.io/allenhwkim\">@allenhwkim</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n *\n * \n * ### `mce-leaflet` Attributes \n * any options defined in leaflet, http://leafletjs.com/reference-1.2.0.html#map-option\n * As an example, for center and zoom \n *\n *  |name|value|description|\n *  |---|---|---|\n *  |center|Array or String| Initial geographic center of the map. [lat, lng], or an address. e.g. [0,0], \"Brampton, Canada\"\n *  |zoom|number| initial map zoom level e.g. 13\n *  |...|...| [more](http://leafletjs.com/reference-1.2.0.html#map-option)\n * \n * any events defined in leaflet with `on-` prefixed; http://leafletjs.com/reference-1.2.0.html#map-event\n * As an example, for click event, \n *\n *  |name|value|description|\n *  |---|---|---|\n *  |on-click|function reference| e.g. on-click=\"myClickHandler\"\n *  |...|...| [more](http://leafletjs.com/reference-1.2.0.html#map-event)\n */\nexport class LeafletMap extends HTMLElement{\n  connectedCallback() {\n    this.map;\n    this.options = {center: [51.505, -0.09], zoom: 13};        // default options\n    this.events = {};\n\n    // initiazlie separately when `lazy-init` is given\n    (this.getAttribute('lazy-init') === null) && this.initialize();\n  }\n\n  initialize(){\n    if (this.map) { // already initialized\n      return false;\n    }\n    this.loadLibrary()\n      .then(L => { // set options and events\n        let parsedAttrs = parseAttributes(this.attributes);\n        this.options = Object.assign(this.options, parsedAttrs.options);\n        this.events = parsedAttrs.events;\n      })\n      .then(_ => resolveLatLng(this.options.center))\n      .then(latlng => {\n        this.options.center = latlng;\n\n        let mapOptions = Object.assign({}, this.options);\n        delete mapOptions.zoom;\n        delete mapOptions.center;\n        this.map = new L.map(this, mapOptions);\n        this.setEvents(); // load event must fire when set view\n        this.map.setView(latlng, this.options.zoom);\n      })\n      .then(_ => {\n        observeAttrChange(this, this.onAttrChange.bind(this));\n        setTimeout(_ => { // children are not immediatly visible\n          let childEls = Array.from(this.querySelectorAll('*')).filter(el => el.tagName.match(/-/));\n          childEls.forEach(child => child.initialize(this.map));\n          if (!this.querySelector('mce-tile-layer')) {\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(this.map);\n          }\n        });\n      });\n  }\n\n  setEvents() {\n    for(let eventName in this.events) {\n      window.debug && console.log('this.events[eventName]', eventName, this.events[eventName]);\n      this.map.on(eventName, this.events[eventName]);\n    }\n  }\n\n  // run setXXX if defined when attribute value changes\n  onAttrChange(name, val) {\n    if (name === 'center') {\n      if (typeof val === 'string') {\n        resolveLatLng(val).then(latlng => {\n          this.map.setView(latlng, this.map.getZoom());\n        });\n      } else {\n        this.map.setView(val, this.map.getZoom());\n      }\n    } else if (!['class', 'tabindex', 'style'].includes(name)) {\n      callSetMethod(this.map, name, val);\n    };\n  }\n\n  loadLibrary(){\n    if (!document.querySelector('link.mce-map.leaflet')) {\n      let el = document.createElement('link');\n      el.setAttribute('class', 'mce-map leaflet');\n      el.setAttribute('rel', 'stylesheet');\n      el.setAttribute('href', 'https://unpkg.com/leaflet@1.2.0/dist/leaflet.css');\n      document.querySelector('head').appendChild(el);\n    }\n\n    if (!document.querySelector('script.mce-map.leaflet')) {\n      let el = document.createElement('script');\n      el.setAttribute('class', 'mce-map leaflet');\n      el.setAttribute('src', 'https://unpkg.com/leaflet@1.2.0/dist/leaflet.js');\n      document.querySelector('head').appendChild(el);\n    }\n\n    return waitUntil(_ => window.L); // this returns a promisse\n  }\n\n}\n\n","import '../mce-polyfill.js';\nimport {setInnerHTML} from '../utils/index.js';\n\n/**\n *  Child element of a router,`<mce-router>`\n *\n *  \n * ### Example\n *  ```\n *  <mce-router>\n *     <mce-route path=\"/path1\" import=\"path1.html\">\n *       <mce-router>    <!-- knows that parent path is /path1 -->\n *         <mce-route path=\"/foo\" import=\"foo.html\" ></mce-route> <!-- responds to /path1/foo -->\n *         <mce-route path=\"/bar\" import=\"bar.html\"></mce-route> <!-- responds to /path1/bar -->\n *       </mce-router>\n *     </mce-route>\n *  </mce-router>\n *  ```\n *\n *  <iframe frameborder=\"no\" width=\"100%\" height=\"300\" src=\"https://embed.plnkr.co/FOLOB9?show=preview\"></iframe>\n *  <iframe frameborder=\"no\" width=\"100%\" height=\"300\" src=\"https://embed.plnkr.co/iyCwi9?show=preview\"></iframe>\n *\n *  ### Attributes\n *    * `path`\n *      _required_,  path to respond\n *    * `import`\n *      _required_,  url to load\n *    * `name`\n *      Optional, name of this route. Default. the name of path\n *    * `no-cache`\n *      Optional,Indicates that the route view template is not cached.\n *    * `resolve-func`\n *      Optional, route level resolve function. e.g. data loading. The resolved data will be set to `<mce-route>` element as a data. e.g. `$0.data.foo`, `$0.data.bar`\n */\nexport class Route extends HTMLElement {\n  connectedCallback() {\n    // add this to the parent route\n    this.router = this.closest('mce-router');\n    this.path = this.getAttribute('path');\n    this.name = this.getAttribute('name') || (this.path && this.path.replace('/', ' '));\n    this.redirect = this.getAttribute('redirect');\n    this.noCache = (this.getAttribute('no-cache') !== null);\n    this.cachedTemplate = null;\n    this.resolveFunc = this.getAttribute('resolve-func') && \n      this._getPromiseFunc('route', this.getAttribute('resolve-func'));\n\n    if (!this.path && !(this.import || this.redirect)) {\n      throw \"Invalid attributes for mce-route, required path and import\";\n    }\n  }\n\n  get import() {\n    let url, attrFn, attr = this.getAttribute('import');\n    if (attr && attr.match(/\\(.*\\)/)) {\n      attrFn = new Function('return ' +attr);\n      url = attrFn();\n    } else {\n      url = attr;\n    }\n    return url;\n  }\n\n  /**\n   * activate this route for the parent router. The activation sequence is;\n   * \n   * 1. resolve router function which is given from `mce-router[resolve-func]` \n   * 2. resolve route function which is given from `mce-route[resolve-func]` \n   * 3. run route start callback if given from `mce-route[on-route-start]` \n   * 4. determine html contents\n   *   4.1 if html contents is cached, contents is cached one.\n   *   4.2 if not cached, run http start callback if given from `mce-router[on-http-start]` \n   *   4.3 fetch html contents, then run http end callback if given from `mce-router[on-http-end]` \n   * 5. show slide-in animation and replace contents\n   * 6. run route end callback if given from `mce-router[on-route-end]` \n   */\n  activate() {\n    let aPromise = _ => Promise.resolve();\n    let routerResolveFn = this.router.resolveFunc || aPromise;\n    let routeResolveFn = this.resolveFunc || aPromise;\n    let onRouteStartFn = this.router.onRouteStart || aPromise;\n    let onRouteEndFn = this.router.onRouteEnd || aPromise;\n\n    this.state = window.history.stae;\n\n    this.router.showLoadingEl(true);\n\n    routerResolveFn(this)    // resolve router resolveFunc\n    .then(routerData => {\n      routerData && (this.router.data = routerData);\n      return routeResolveFn(this); // resolve route resolveFunc\n    }).then(routeData => {\n      routeData && (this.data = routeData);\n      return onRouteStartFn(this); // run onRouteStart \n    }).then(result => {\n      if (this.cachedTemplate) {\n        return this.cachedTemplate;\n      } else {  // fetch if not cached                       \n        let importUrl = this.import;\n        if (importUrl) { // only run fetch when import Url is given\n          let options = this.router.onHttpStart && this.router.onHttpStart(this);\n          return fetch(importUrl, options || {})\n            .then(response => {\n              if (!response.ok) {\n                throw Error(`url: ${importUrl}, status: ${response.statusText}`);\n              }\n              if (this.router.onHttpEnd) {\n                return this.router.onHttpEnd(response);\n              } else {\n                return response.text();\n              }\n            });\n        } else {\n          return null;\n        }\n      }\n    }).then(html => {\n      if (html) { // only replace HTML when it is fetched or cached properly\n        !this.noCache && (this.cachedTemplate = html);\n        // Transtion effect. slide in from left\n        this.router.targetEl.classList.remove('mce-slide-in');\n        setTimeout(_ => {\n          // this.router.targetEl.innerHTML = html; \n          setInnerHTML(this.router.targetEl, html); // replace html and run <script> in html\n          this.router.targetEl.classList.add('mce-slide-in');\n        }, 50);\n      }\n      this.router.showLoadingEl(false);\n      this.router.currentRoute = this;\n      return onRouteEndFn(this);\n    }).catch(error => {\n      this.router.debug && console.error('routing-error', error);\n      this.router.showLoadingEl(false);\n      throw error;\n    });\n  }\n\n  /* returns a function which accepts paramName and returns a promise */\n  _getPromiseFunc(paramName, funcStr) {\n    return function(param) {\n      let func = new Function(paramName, `return ${funcStr}`);\n      return Promise.resolve(func(param));\n    };\n  }\n}\n\n","import '../mce-polyfill.js';\nimport './route.js';\nimport {defaultLoadingHTML} from './default-loading-html.js';\n\n/**\n * `mce-router` is an element that responds to url hash change.\n * mce-router watches the url hash changes, find a proper route, and load html.\n * On the other hand, mce-route(without r) does fetch, template caching, transition, and replacing, and throws error if erroneous\n * A router has div.router-html to show the path-related contents.\n * \n * ### example\n * ```\n * <mce-router>\n *   <mce-route path=\"page1\" import=\"page1.html\" no-cache=\"\"></mce-route>\n *   <mce-route path=\"page2\" import=\"page2.html\"></mce-route>\n *   <mce-route path=\"not-found\" import=\"not-found.html\"></mce-route>\n *   <mce-route path=\"\" redirect=\"page1\"></mce-route>\n * </mce-router>\n * ``` \n *\n *  <iframe frameborder=\"no\" width=\"100%\" height=\"300\" src=\"https://embed.plnkr.co/DiFMep?show=preview\"></iframe>\n *\n * ### `mce-router` atttibutes\n *  |name          |value     |description                                                  |\n *  |--------------|----------|-------------------------------------------------------------|\n *  |base-path     | url path | Optional. default '/', base path of this router. All route path will be prefixed with this base path.\n *  |import        | url      | **required**, url of partial html\n *  |no-cache      | boolean  | Optional,Indicates that the route view template is not cached.\n *  |resolve-func  | function | Optional, route level resolve function. e.g. data loading. The resolved data will be set to `<mce-route>` element as a data. e.g. `$0.data.foo`, `$0.data.bar`\n *  |on-route-start| function | Optional, injector function to be executed before route starts.\n *  |on-route-end  | function | Optional, injector function to be executed after route ends.\n *  |on-http-start | function | Optional, injector function to be executed before all http requests calls. This can change http request. It must return `fetch` [call option](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request)\n *  |on-http-end   | function | Optional, injector function to be executed after all http responses. This can change http response. It must return a Promise\n *\n * #### `resolve-func` example\n * ```\n *    &lt;mce-router resolve-func=\"routerResolve()\">....&lt;/mce-router>\n *    &lt;script>\n *      function routerResolve(route) {\n *        console.log('executing router-resolve');\n *        return new Promise(function(resolve, reject) {\n *          setTimeout(function() { resolve({data: 'router'}); }, 1000);\n *        });\n *      },\n *    &lt;/script>\n * ```\n * #### `on-http-start` example\n * ```\n *    &lt;mce-router resolve-func=\"onHttpStart\">....&lt;/mce-router>\n *    &lt;script>\n *      function onHttpStart(route) {\n *        console.log('executing on-http-start');\n *        return {method: 'GET'}; // must return httpOptions\n *      },\n *    &lt;/script>\n * ```\n * #### `on-http-end` example\n * ```\n *    &lt;mce-router on-http-end=\"onHttpEnd\">....&lt;/mce-router>\n *    &lt;script>\n *      function onHttpEnd(response) { \n *        console.log('executing on-http-end');\n *        return response.text(); // must return a promise\n *      }\n *    &lt;/script>\n * ```\n * #### `on-route-start` example\n * ```\n *   &lt;mce-router on-route-start=\"onRouteStart\">....&lt;/mce-router>\n *   &lt;script>\n *     function onRouteStart(route) { \n *       console.log('executing on-route-start');\n *       return route;\n *     }\n *   &lt;/script>\n * ```\n * #### `on-route-end` example\n * ```\n *    &lt;mce-router on-route-end=\"onRouteEnd\">....&lt;/mce-router>\n *    &lt;script>\n *      function onRouteEnd(route) { \n *        console.log('executing on-route-end');\n *        return route;\n *      }\n *    &lt;/script>\n * ```\n */\nexport class Router extends HTMLElement {\n  connectedCallback() {\n    this.basePath = this.getAttribute('base-path') || '';\n    this.debug = this.getAttribute('debug') === 'true';\n    this.currentRoute;\n\n    this.resolveFunc;  // common resolve function route as parameter, and returning a Promise\n    this.onHttpStart;  // a callback function, route as parameter, and returning a Promise\n    this.onHttpEnd;    // a callvack funciton, route as parameter, returning a Promise\n\n    this.routes;       // collection of <mce-route> children\n    this.defaultRoute;\n    this.popStateHandler = this._popStateHandler.bind(this); // saving it to be used by add/remove\n\n    this.style.position = 'relative'; //required to show loaing overlay\n    window.addEventListener('popstate', this.popStateHandler);\n    setTimeout(_ => {\n      this._setProperties();\n      this.popStateHandler();\n    });\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener('popstate', this.popStateHandler);\n  }\n\n  showLoadingEl(show) {\n    this.loadingEl.style.display = show ? 'flex' : 'none';\n  }\n\n  get notFoundRoute() {\n    this._notFoundRoute = this._notFoundRoute ||\n      this._getUrlMatchingRoute(this.basePath + '/not-found') ||\n      this._getUrlMatchingRoute(this.basePath + 'not-found');\n    return this._notFoundRoute;\n  }\n\n  _getUrlMatchingRoute(path) {\n    let matchingRoute;\n\n    path = path || this._getRouterPath();\n    path = path.replace(/[\\/]{2,}/g, '/');\n\n    for(var i=0; i<this.routes.length; i++) {\n      let route = this.routes[i];\n      let reStr = (this.basePath + route.path).replace(/[\\/]{2,}/g, '/');\n      let re = new RegExp('^' + reStr + '$', 'i');\n      this.debug && console.log('path', path, 're', re);\n\n      if (path.match(re)) {\n        matchingRoute = route;\n        break;\n      }\n    }\n    return matchingRoute;\n  }\n\n  _popStateHandler(event) {\n    let route = this._getUrlMatchingRoute();\n\n    if (route && route.redirect) {\n      route = this._getUrlMatchingRoute(route.redirect);\n      this._redirectTo(route.path);\n    } else if (route) {\n      route.activate();\n    } else { // not-found\n      this.debug && console.log(\n        `route not found for '${this._getRouterPath()}', redirecting to 'not-found'`);\n      if (this.defaultRoute) {\n        this.defaultRoute.activate();\n      } else if (this.notFoundRoute) {\n        this._redirectTo(this.notFoundRoute.path);\n      } else {\n        this.debug && console.error(`route not found for '/not-found' or 'not-found'`);\n      }\n    }\n  }\n\n  _redirectTo(path) {\n    let url = this.basePath + path;\n    let route = this._getUrlMatchingRoute(url);\n    route ? route.activate() : console.error('route not found for', url);\n  }\n\n  _setProperties() {\n    let resolveFunc  = this.getAttribute('resolve-func');\n    let onHttpStart  = this.getAttribute('on-http-start');\n    let onHttpEnd    = this.getAttribute('on-http-end');\n    let onRouteStart = this.getAttribute('on-route-start');\n    let onRouteEnd   = this.getAttribute('on-route-end');\n    this.resolveFunc  = resolveFunc && this._getPromiseFunc('route', resolveFunc);\n    this.onHttpStart  = onHttpStart && this._getPromiseFunc('route', onHttpStart);\n    this.onHttpEnd    = onHttpEnd && this._getPromiseFunc('response', onHttpEnd);\n    this.onRouteStart = onRouteStart && this._getPromiseFunc('route', onRouteStart);\n    this.onRouteEnd   = onRouteEnd && this._getPromiseFunc('route', onRouteEnd);\n\n    this.routes = Array.from(this.querySelectorAll('mce-route'));\n    this.routes.forEach(route => {\n      (route.getAttribute('default') !== null) && (this.defaultRoute = route);\n    });\n\n    this.targetEl     = this._addTargetEl();\n    this.loadingEl    = this._addLoadingEl();\n  }\n\n  _getRouterPath(href) {\n    href = href || window.location.href;\n\n    let parsed = new URL(href.replace(/[\\/]{2,}/g, '/')), routerPath;\n\n    if (parsed.hash) {\n      if (this.basePath === '' && !parsed.hash.match(/\\//)) { // pure hash reference\n        routerPath = parsed.hash.replace('#', '');\n      } else {\n        parsed = new URL(parsed.hash.replace('#', ''), window.location.origin);\n        // routerPath = parsed.pathname.replace(/^\\//,'');\n        routerPath = parsed.pathname;\n      } \n    } else {\n      routerPath = '';\n    }\n\n    return routerPath;\n  }\n\n  _addLoadingEl() {\n    let loadingEl = this.querySelector('.mce-loading');\n    if (!loadingEl) {\n      this.insertAdjacentHTML('beforeend', defaultLoadingHTML);\n      loadingEl = this.querySelector('div.mce-loading');\n    }\n    return loadingEl;\n  }\n\n  _addTargetEl() {\n    this.insertAdjacentHTML('beforeend', '<div class=\"mce-router-target\"></div>');\n    return this.querySelector('div.mce-router-target');\n  }\n\n  /* returns a function which accepts paramName and returns a promise */\n  _getPromiseFunc(paramName, funcStr) {\n    if (paramName === 'response') {\n      funcStr = `let res = ${funcStr};\\n return res || response.text();`;\n    } else {\n      funcStr = `return ${funcStr}`;\n    }\n    return function(param) {\n      let func = new Function(paramName, funcStr);\n      return Promise.resolve(func(param));\n    };\n  }\n}\n\n"],"sourceRoot":""}